!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=310)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(18),a=n(19),o=(r=n(20))&&r.__esModule?r:{default:r},s=s||{};s.GA=i.GA,s.waitForLoad=a.waitForLoad,s.getBaseUrl=function(){const e=new URL(window.location);let t=e.protocol;return t+="//",t+=e.hostname,-1===["80","443"].indexOf(e.port)&&(t+=":"+e.port),t+="/",t},s.throttle=function(e,t,n){t=t||window;let r=!1;t.addEventListener(e,(function(){r||(r=!0,window.requestAnimationFrame((function(){n(),r=!1})))}))},s.formatAsLocalisedCurrency=function(e,t,n,r=0,i="yes"){const a={minimumFractionDigits:r,maximumFractionDigits:r},o={decimals:r};return"yes"===i&&(a.currency=t,a.style="currency",o.prefix=n+" "),parseInt(e,10),parseFloat(e).toLocaleString("nu",a)},s.breakpoints=function(e,t){const n=[];let r=!1;function i(e){let t="";switch(e){case"ExtraLarge":t="all and (min-width: 1025px)";break;case"Large":t="all and (min-width: 769px) and (max-width: 1024px)";break;case"Medium":t="all and (min-width: 481px) and (max-width: 768px)";break;case"Small":t="all and (max-width: 480px)";break;default:t="none"}return window.matchMedia(t).matches}return"[object Array]"===Object.prototype.toString.call(e)?e.forEach((function(e){n.push(i(e))})):n.push(i(e)),n.some(function(e){if(e)return t&&t.apply(this),r=!0,!0}.bind(this)),r},s.scrollListener=function(e,t,n=400){let r,i=!1;(r=function(){e.getBoundingClientRect().top+(document.body.getBoundingClientRect().top-n)>0||t&&(t(),i=!0,document.removeEventListener("scroll",r))})(),r(),i||document.addEventListener("scroll",r)},s.lazyLoadScript=function(e,t,n,r=400){s.scrollListener(t,()=>{let t=e.length;if(0===e.length)return;let r=0;for(let i=0;i<t;i++)Loot.MicroserviceInjector.injectScriptToBody(e[i]).then((function(){r++,r===t&&n&&n()}))},r)},s.addFunctionToPipelineTracker=function(e){void 0!==window.DataTracker?e(window.DataTracker):document.addEventListener("DataTrackerReady",(function(){e(window.DataTracker)}))},s.getSnowplowProperty=function(e,t){t&&"function"==typeof t&&(snowplow?snowplow((function(){const n=this[Object.keys(this)[0]];if(!n||!n[e])return t();const r=n[e].call(this);return t(r)})):t())},s.getUserId=function(e){s.getSnowplowProperty("getDomainUserId",e)},s.getCurrentContentHash=function(){var e=new URL(window.location).hash.replace("#","").split(":");return 2===e.length&&"content"===e[0]?e[1]:""},s.debounce=function(e,t,n=this){let r=null,i=null;const a=()=>e.apply(n,i);return function(){i=arguments,clearTimeout(r),r=setTimeout(a,t)}},Element.prototype.formatAsNumber=function(){const e=this.dataset.decimals||0,t=parseFloat(this.innerHTML);return isNaN(t)||(this.innerHTML=t.toLocaleString("nu",{style:"decimal",minimumFractionDigits:e,maximumFractionDigits:e})),this},Element.prototype.formatAsDateTime=function(){const e=this.getAttribute("datetime").trim().toString();if(""===e)return this;const t=this.dataset.format;if(!t)return this;const n=t.trim().toString();if(!n||""===n)return this;const r=(0,o.default)(e).format(n);if("Invalid date"===r)return this;this.innerText=r;const i=this.getAttribute("data-format-title");return i&&this.setAttribute("title",(0,o.default)(e).format(i)),this},Function.prototype.clone=function(){const e=this,t=function(){return e.apply(this,arguments)};for(const e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t},document.addEventListener("DOMContentLoaded",(function(){!function(){const e=document.querySelectorAll("[data-OverText]");e.length>0&&Array.from(e).forEach((function(e){const t=e.dataset.overtext;new OverText(e,{textOverride:t})}))}(),document.addEventListener("redirect",(function(e){window.location!==e&&(window.location=e)})),s.GA.parseTrackers(null)})),window.Shared=s;var c=s;t.default=c},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocationSwitcher=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r};class a{constructor(e,t){this.tracking=t,this.dataStorage=e,this.setUserCountry(),this.setVisualState(),this._trackUserNationality(),this.updateLocationOnChange(),this._addEventListeners()}updateLocationOnChange(){EventAggregationService.subscribeTo("anonymous-student-profile-updated",{notify:e=>{this._studentDataChangedHandler(e.changes)}})}_studentDataChangedHandler(e){Object.prototype.hasOwnProperty.call(e,"nationality_country_id")&&(this.userCountry={id:e.nationality_country_id,name:Loot.Countries[e.nationality_country_id].name,iso:Loot.Countries[e.nationality_country_id].iso_code},this.storeUserCountry(),this.setVisualState(),this.broadcastLocation(),this._trackLocationChange())}setVisualState(){this._setLocationNameSpan()}_trackLocationChange(){const e={category:"Search",action:"Nationality Changed",label:this.userCountry.name};i.default.GA.fireTracker(e),this._trackUserNationality()}_trackUserNationality(){i.default.waitForLoad([{name:"userLocation",event:"user_location_ready"}],()=>{window.userLocation.setCountry(this.userCountry.id,"LocationSwitcher")})}_addEventListeners(){document.addEventListener("ask_user_location",()=>{this.answerUserLocation()}),document.addEventListener("ask_user_location_for_tuition",()=>{this.answerTuitionLocation()}),document.addEventListener("ask_user_location_for_search_controller",()=>{this.answerSearchControllerLocation()})}broadcastLocation(){document.dispatchEvent(new CustomEvent("user_location_changed",{detail:{userCountryID:this.userCountry.id}}))}answerUserLocation(){document.dispatchEvent(new CustomEvent("answer_user_location",{detail:{userCountryID:this.userCountry.id}}))}answerTuitionLocation(){document.dispatchEvent(new CustomEvent("answer_user_location_for_tuition",{detail:{userCountryID:this.userCountry.id}}))}answerSearchControllerLocation(){document.dispatchEvent(new CustomEvent("answer_user_location_for_search_controller",{detail:{userCountryID:this.userCountry.id}}))}_setLocationNameSpan(){const e=Array.from(document.getElementsByClassName("js-locationText"));if(e.forEach(e=>{"header"===e.dataset.header?e.innerText="Int.":e.innerText="International"}),!this.userCountry)return;const t=this.userCountry.id.toString();e.forEach(e=>{e.innerText=Loot.Countries[t].iso_code})}static getCountriesInRegion(e){return a.regionsWithCountries[e]||[]}static isCountryInRegion(e,t){let n=!1;return a.getCountriesInRegion(t).indexOf(e)>-1&&(n=!0),n}static isUserInOrgRegion(e,t,n){return a.isCountryInRegion(t,n)&&a.isCountryInRegion(e,n)}isUserInCountry(e){return this.userCountry.id===e}setUserCountry(){this.userCountry=this.getStoredCountry();const e=this.getTrackedCountry().toString();this.userCountry||void 0===Loot.Countries[e]||(this.userCountry={id:e,name:Loot.Countries[e].name,iso:Loot.Countries[e].iso_code},this.storeUserCountry(),AnonymousStudent.setStudentData({nationality_country_id:parseInt(e)}))}storeUserCountry(){this.dataStorage.store("user_country",this.userCountry,2592e3)}getStoredCountry(){let e=this.dataStorage.retrieve("user_country");return null!==e&&"object"==typeof e&&e.id?e:""}getTrackedCountry(){return this.tracking.getCountryId()}static get eeaRegionID(){return 38}static get usaCountryID(){return 82}static get australiaCountryID(){return 202}static get canadaCountryID(){return 56}static get ukCountryID(){return 30}static get eeaCountries(){return[3,4,2,5,7,6,8,9,10,11,25,12,13,14,15,16,47,17,34,35,1,19,20,21,33,41,31,24,26,27,30]}static get regionsWithCountries(){return{[a.eeaRegionID]:a.eeaCountries}}}t.LocationSwitcher=a},10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchQueue=void 0;const r=function(){let e=[],t=!1;return{addRequest:function(n,r,i,a,o){return new Promise((function(s,c){e.push({maxAttempts:i||1,delay:a||1e3,fixed:!1===o,request:r,url:n,retry:0,resolve:s,reject:c}),function n(){if(t)return;let r=e.shift();if(r){t=!0;try{fetch(r.url,r.request).then(r.resolve).catch(r.reject)}catch(e){r.reject(e)}finally{t=!1,n()}}}()}))}}}();t.FetchQueue=r},109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageDataInitialized=t.calculateTrackingUrl=t.localStorageDataNotValid=t.addRenewTimestampListeners=t.THE_REFERRER=t.SESSION_TTL=t.SP_TIMES_HIGHER_EDUCATION=void 0;var r,i=(r=n(60))&&r.__esModule?r:{default:r};t.SESSION_TTL=1800,t.SP_TIMES_HIGHER_EDUCATION="sp_affiliate";const a=window.Loot.DataStorage;t.THE_REFERRER="times_higher_education";let o=Date.now();t.addRenewTimestampListeners=()=>{document.addEventListener("pointermove",s),document.addEventListener("pointerdown",s),document.addEventListener("keydown",s),document.addEventListener("scroll",s)};const s=()=>{const e=Date.now();if(e-o>1e4){const t=c();""!==t&&(a.store("sp_affiliate",t,1800),o=e)}},c=()=>a.retrieve("sp_affiliate");t.calculateTrackingUrl=async e=>{let t=e.currentTarget,n=JSON.parse(t.getAttribute("data-extra"));const r=a.retrieve("sp_affiliate");""!==r?n.utm_source=r.utm_source:delete n.utm_source,t.setAttribute("data-extra",JSON.stringify(n)),i.default.trackExternalLinks([t])},t.localStorageDataNotValid=()=>""===c(),t.localStorageDataInitialized=()=>""!==c()},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(n)switch(n.constructor){case Number:o=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; expires="+new Date(1e3*n+Date.now()).toUTCString();break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};void 0!==e.exports&&(e.exports=r);var i=r;t.default=i},12:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,((r=n(0))&&r.__esModule?r:{default:r}).default.live=!0;var i=void 0===i||null==i?{}:i;i.Search=void 0===i.Search||null==i.Search?{}:i.Search,i.Search.apiUrl="https://search.prtl.co/2018-07-23/",i.Search.proxyUrl="https://1cna6fszvk.execute-api.eu-west-1.amazonaws.com/prod",i.autoCompleteURL="https://autocomplete.prtl.co/",i.snowplow={app_id:"prod",collectorSubdomain:"collect"};var a=i;t.default=a},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkNamespace=t.prepareNamespace=void 0;var r=window.StudyPortals||{};t.prepareNamespace=function(e){let t,n=e.split("."),i=r;"StudyPortals"===n[0]&&(n=n.slice(1)),t=n.length;for(let e=0;e<t;e++)void 0===i[n[e]]&&(i[n[e]]={}),i=i[n[e]]},t.checkNamespace=function(e){let t,n=e.split("."),i=r;"StudyPortals"===n[0]&&(n=n.slice(1)),t=n.length;let a=!0;for(let e=0;e<t;e++)void 0===i[n[e]]&&(a=!1,e=t),i=i[n[e]];return a}},137:function(e,t,n){var r;e.exports=r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},a=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new o.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(r,l);var d=r.splice(0,c);n.sigBytes-=u}return new o.init(d,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math)},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCompleteControllerGeneric=t.AutoCompleteControllerSearch=t.AutoCompleteController=void 0;var r=s(n(0)),i=n(6),a=s(n(2)),o=n(15);function s(e){return e&&e.__esModule?e:{default:e}}class c{constructor(e=null){this.controlKeys={down:40,up:38,enter:13,esc:27,tab:9,ctrl:17},this.searchRequest=e,this.autoCompleteForms={};const t=Array.from(document.querySelectorAll("input.AutoCompleteInput, input.js-autoCompleteInput"));if(0===t.length)return;Array.from(t).forEach(e=>{this._initAutoCompleteInstance(e)});const n=[];Object.values(this.autoCompleteForms).forEach(e=>{n.push(e[0].submitButton)}),Array.from(n).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=e.target.closest("form").id;this._handleButtonClick(t)})})}submit(e,t=!1){const n=document.getElementById(e),r=n.querySelector('button[type="submit"]'),i=n.querySelector(".js-autoCompleteInput");let a=n.dataset.defaultParameters;r.classList.add("AnimationPulseLoop");const o={};a&&(a=JSON.parse(a),i&&i.value&&(delete a.discipline_ids,delete a.degrees)),i&&i.dataset.country&&(o.country_ids=[i.dataset.country]);const s=Object.assign(o,defaultSearchParameters,a),u={};if(this._fireSubmittedTracking(e),!this.autoCompleteForms[e])return;document.addEventListener("auto_complete_suggested",()=>{this._reroute(s,u,r)});let l=this.autoCompleteForms[e].length;Object.values(this.autoCompleteForms[e]).forEach(n=>{n.updateSelectedFilter(()=>{c._updateParameters(n,s,u),this._sendTracking(n,t,e),l--,0===l&&document.dispatchEvent(new CustomEvent("auto_complete_suggested",{detail:{searchParameters:s,keywords:u}}))})})}hide(){this._autoCompletes.forEach(e=>{e.classList.add("Hidden")})}_fireSubmittedTracking(e){const t="Submit form: "+e,n={category:"Search",action:t};r.default.GA.fireTracker(n),r.default.addFunctionToPipelineTracker(e=>{e.trackStructEvent("Search",t)})}get _autoCompletes(){const e=[];return Object.values(this.autoCompleteForms).forEach(t=>{t.forEach(t=>{e.push(t)})}),e}_initAutoCompleteInstance(e){const t=e.closest("form").id;if(!t)return;this.autoCompleteForms[t]||(this.autoCompleteForms[t]=[]);const n=this.autoCompleteForms[t].length,r=new i.AutoComplete(e,n,this.searchRequest);this.autoCompleteForms[t].push(r),this._attachEventListenersTo(r),r.hide()}_reroute(){}static _updateParameters(e,t,n){const r=e.inputValues,i=e.suggestType;if(n[i]||(n[i]=r.keyword||r.title),""===r.keyword)null!==r.id&&(t[r.name]=[r.id]);else{const e=r.keyword;void 0===t.keywords?t.keywords=e:t.keywords+=" "+e}}_attachEventListenersTo(e){const t=e._inputField;t.addEventListener("keyup",t=>{this._handleKeyUp(e,t)}),t.addEventListener("focus",()=>{r.default.breakpoints(["Large","ExtraLarge"],()=>{e.suggest()})}),t.addEventListener("click",()=>{r.default.breakpoints(["Small","Medium"],()=>{e.suggest()})}),t.addEventListener("keydown",t=>{this._handleKeyDown(e,t)}),e.onSelectionChange(()=>{this._handleSelectionChange(e)}),t.addEventListener("blur",()=>{e.hide()}),document.addEventListener("render_complete",()=>{e.submitButton.classList.remove("AnimationPulseLoop")}),r.default.throttle("resize",window,()=>{e.setAutoCompleteWidth()}),window.addEventListener("orientationchange",()=>{e.setAutoCompleteWidth()})}_handleKeyUp(e,t){let n=!1;for(const e in this.controlKeys)if(this.controlKeys.hasOwnProperty(e)&&this.controlKeys[e]===t.keyCode){n=!0;break}!1===n&&e.suggest()}_handleKeyDown(e,t){t.keyCode===this.controlKeys.esc?e.hide():t.keyCode===this.controlKeys.enter?(e.interaction="enter",this._handleSelectionChange(e),t.preventDefault()):t.keyCode===this.controlKeys.tab?this._handleTabPress(e,t):t.keyCode===this.controlKeys.up?(e.moveSelectedUp(),t.preventDefault()):t.keyCode===this.controlKeys.down&&(e.moveSelectedDown(),t.preventDefault())}_handleTabPress(e,t){const n=e.formID;if(e.hide(),this.autoCompleteForms[n]&&!0!==t.shift&&e.index!==this.autoCompleteForms[n].length-1){const t=e.index+1;this.autoCompleteForms[n][t].suggest()}}_handleButtonClick(e){this.autoCompleteForms[e]&&(this.autoCompleteForms[e].forEach(e=>{e.hide()}),this.submit(e))}_handleSelectionChange(e){const t=e.formID,n=document.getElementById(t),i=n.dataset.noAutoSubmit&&"true"===n.dataset.noAutoSubmit;e.setSelectedValue(),e.copySelectionText(),e.hide();const a=!!e.selectedValue;if(e.index!==this.autoCompleteForms[t].length-1){const n=e.index+1,r=window.requestAnimationFrame(()=>{this.autoCompleteForms[t][n].focus(),window.cancelAnimationFrame(r)})}if(e.index===this.autoCompleteForms[t].length-1)return e.blur(),void this.submit(t,a);i||r.default.breakpoints(["Small","Medium"],()=>{e.blur(),this.submit(t,a)})}_sendTracking(e,t,n){let i=null,a=e._inputField.value,o=null,s=null;t&&(i=e.interaction,a=e.originalValue,o=e.matchedValue,s=e.selectedPosition),r.default.addFunctionToPipelineTracker(e=>{e.trackStructEvent("search",n+"_box_used")}),r.default.addFunctionToPipelineTracker(e=>{e.trackStructEvent("search",i,a,o,s)})}}t.AutoCompleteController=c,t.AutoCompleteControllerSearch=class extends c{constructor(e,t){super(t),this.dataStorage=e,document.addEventListener("url_change",e=>{this.searchRequest=e.detail.searchRequest})}_reroute(e,t){if(this.dataStorage.store("search_terms",t),null!==this.searchRequest){if(""===a.default.alias(this.searchRequest.getQParameters()))return;this._setRequestParameters(e),o.UrlHandler.updateSearchUrl(this.searchRequest)}}_setRequestParameters(e){this.searchRequest.setParameter("tuition_fee_currency",null),this.searchRequest.setParameter("organisation_ids",null),this.searchRequest.setParameter("discipline_ids",null),this.searchRequest.setParameter("country_ids",null),this.searchRequest.setParameter("area_ids",null),this.searchRequest.setParameter("region_ids",null),this.searchRequest.setParameter("start",0),Object.keys(e).forEach(t=>{this.searchRequest.setParameter(t,e[t])})}},t.AutoCompleteControllerGeneric=class extends c{constructor(e){super(),this.dataStorage=e}_reroute(e,t){this.dataStorage.store("search_terms",t);const n={q:{}};Object.keys(e).forEach(t=>{n.q[t]=e[t]});const r=o.UrlHandler.constructSearchUrl(n);o.UrlHandler.setUrl(r)}}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};class a{static constructSearchUrl(e,t=!1){const n=window.location.href.split("?"),r=n.length>1?n[1].split("#")[0]:"",i=e.q;window.location.origin.indexOf("phd")>=0&&delete i.levels,e.q=a.constructShortQString(i,t);const o=a.getCurrentSearchUrl(),s=a._joinSearchParameters(e),c=r?"?"+r:"";if(window.location.origin.indexOf("phd")>=0){let e="";s.length>0&&(e+=""+s.replace("q=","?search="));const t=c.replace("?","");return e.length>0&&t.length>0?e=`${e}&${t}`:t.length>0&&(e="?"+t),`${o}phd${e}`}return`${o}#${s}${c}`}static constructShortQString(e,t){if(!e)return null;let n="";return t?(a._encodeParameter(e,"kw"),n=a.createQParamsString(e)):(a._encodeParameter(e,"keywords"),n=i.default.alias(e)),n}static createQParamsString(e){return Object.keys(e).filter(t=>e[t]).map(t=>`${t}-${e[t]}`).join("|")}static _joinSearchParameters(e){return Object.keys(e).filter(t=>e[t]).map(t=>`${t}=${e[t]}`).join("&")}static _encodeParameter(e,t){e[t]&&(e[t]=encodeURIComponent(e[t]))}static getCurrentSearchUrl(){let e=window.location.origin;const t=Loot.DataStorage.retrieve("UserPortalPreference");return t&&a.isArticlePage()&&(e=t),a.isSearchPage()?e+window.location.pathname:e+"/search/"}static getPageHash(){return window.location.hash}static replaceQueryParametersInURL(){const e=new URL(window.location);let t=new URLSearchParams(e.search);if(t&&t.has("q")){let n="#q="+t.get("q");t.delete("q"),window.history.replaceState({},document.title,e.pathname+n+"?"+t)}}static parseSearchHash(e){return""===e||"#"!==e.charAt(0)?{searchParameters:new URLSearchParams,hash:""}:{searchParameters:a._getSearchParams(e.slice(1)),hash:e}}static setUrl(e){window.location=e}static updateSearchUrl(e){const t=e.getSearchParameters(),n=a.constructSearchUrl(t);a.setUrl(n)}static _getSearchParams(e){return e=(e=e.replace(/%25/gi,"").replace(/&(?![a-z]*[=])/gi,"")).split("?")[0],new URLSearchParams(e)}static omitURLSpecialCharacters(e){return e.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"")}static isSearchPage(){const e=window.location.origin+"/search/";return window.location.href.indexOf(e)>-1}static isArticlePage(){const e=window.location.origin+"/articles/";return window.location.href.indexOf(e)>-1}static isStudyPage(){let e=!1;for(let t of["/studies/"])if(window.location.href.indexOf(t)>-1){e=!0;break}return e}static constructGASearchParameters(e){const t=i.default.alias(e.parameters);return["q","token","path","hh","include_order"].forEach(t=>{delete e.extra[t]}),e.extra.length=10,"#q="+t+"&"+Object.keys(e.extra).map(t=>t+"="+e.extra[t]).join("&")}}t.UrlHandler=a,window.UrlHandler=a},16:function(e,t,n){e.exports=n(21)("./node_modules/@studyportals/modal/dist/modal.js")},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TuitionSettingsController=void 0;var r=n(1),i=n(7),a=n(9),o=n(8);t.TuitionSettingsController=class{constructor(e,t,n){this.locationSwitcher=new r.LocationSwitcher(e,t),this.currencySwitcher=void 0===n?new i.CurrencySwitcher(e):new i.CurrencySwitcherSearch(e,n),this.tuitionSwitchable=new a.TuitionSwitchable,this.tuitionSettings=new o.TuitionSettings}}},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GA=void 0;const r={mandatory_fields:["category","action"],default_action:"click",console_info:[],parseTrackers:function(e){var t=e?[e]:document.querySelectorAll("[data-ga-tracking]");t.length&&Array.from(t).forEach((function(e){if(!e.hasAttribute("data-ga-parsed"))try{r._attachTracker(e)}catch(t){r._warning(t,e)}}))},_warning:function(e,t){},_attachTracker:function(e){if(!e.tagName)throw"The provided el is not an element.";if(!e.hasAttribute("data-ga-tracking"))throw"Missing attribute: data-ga-tracking.";var t=e.getAttribute("data-ga-tracking"),n=[];switch(n=JSON.parse(t),(n=r._validateJSON(n)).event){case"domready":r._warning("The 'domready' event is deprecated, use the 'immediate' event instead.",e);break;case"immediate":r.fireTracker(n);break;default:r.console_info.push({Tracker:n,element:e,event:n.event}),e.addEventListener(n.event,(function(){e.getAttribute("data-ga-tracking-disabled")||(r.fireTracker(n),"remove"==n.onComplete&&e.setAttribute("data-ga-tracking-disabled",!0))}))}return e.setAttribute("data-ga-parsed",!0),!0},_validateJSON:function(e){return r.mandatory_fields.forEach((function(t){if(!e.hasOwnProperty(t)||!e[t])throw"Missing property: "+t+"."})),e.hasOwnProperty("event")||(e.event=r.default_action),e.hasOwnProperty("onComplete")||(e.onComplete=null),e.category=e.category||"",e.action=e.action||"",e.label=e.label||"",e.value=e.value||0,e},fireTracker:function(e,t){"undefined"===t&&(t="undefined"),"function"==typeof ga&&ga("send","event",{eventCategory:e.category,eventAction:e.action,eventLabel:e.label,eventValue:"number"==typeof e.value?e.value:0,hitCallback:function(){document.dispatchEvent(new CustomEvent("ga-tracking-fired",{detail:{trigger:t}}))},hitCallbackFail:function(){document.dispatchEvent(new CustomEvent("ga-tracking-fired",{detail:{trigger:t}}))},nonInteraction:e.nonInteraction||!1}),"object"==typeof _gaq&&_gaq.push(["_trackEvent",e.category,e.action,e.label,e.value])},firePageView:function(){"function"==typeof ga&&(ga("set",{page:location.pathname+location.search}),ga("send","pageview"))}};t.GA=r},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitForLoad=void 0;var r=n(13);t.waitForLoad=function(e,t){"[object Array]"!==Object.prototype.toString.call(e)&&t(!1);const n=[];for(let t=0;t<e.length;t++){n.push(!1);const a=(0,r.checkNamespace)(e[t].name),o=void 0!==window[e[t].name];let s=!1,c=!1;o&&(s=void 0!==window[e[t].name].initialised,c=window[e[t].name].initialised),a||o&&!s||o&&s&&!0===c?(n[t]=!0,i()):(window.addEventListener(e[t].event,()=>{n[t]=!0,i()}),document.addEventListener(e[t].event,()=>{n[t]=!0,i()}))}function i(){const e=n.filter((e,t,n)=>n.indexOf(e)===t);1===e.length&&!0===e[0]&&t()}}},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={aliases:{activated:"act",active:"ac",affiliate:"fflt",allow:"al",application_partners:"ap",approval:"apl",area_ids:"ae",area_presence:"aep",article_ids:"ar",assistant_ids:"ai",auditor_ids:"au",banner_boxes:"bb",banner_ids:"ba",body_ids:"bo",brand:"br",cae_max:"caex",cae_min:"caem",campaign_ids:"cam",capped_budget:"cb",category_ids:"ca",chain_types:"ct",child_ids:"chi",city_ids:"ti",classifications:"cl",cms_user_id:"cmi",comparison_ids:"cmp",consortium_ids:"mi",continents:"con",country_ids:"ci",country_status:"cs",course_ids:"co",cpm_max:"cx",cpm_min:"cm",date_max:"dax",date_min:"dam",date_type:"dat",degrees:"dg",density:"de",discipline_ids:"di",distance:"dt",double_reports:"dr",duration_max:"dx",duration_min:"dm",duration_ranges:"dur",education_levels:"elv",educational_forms:"ef",email:"ma",email_like:"mal",entity:"et",entity_ids:"eid",entity_types:"ety",entropy:"en",entry_level:"el",entry_level_max:"elx",entry_level_min:"elm",exact_name:"xna",exact_query:"equ",executive:"xu",experience_ids:"ex",external:"ext",facebook_id:"fb",favourite_ids:"fvr",favourited:"fav",fce_max:"fcex",fce_min:"fcem",filename:"fn",from_area_ids:"fae",from_city_ids:"fci",from_country_ids:"fco",from_organisation_ids:"for",from_region_ids:"frg",from_study_ids:"fst",from_user_ids:"fus",full_name:"fna",full_name_email:"fne",genders:"ge",godmode:"god",group_ids:"gi",group_size_max:"gsx",group_size_min:"gsm",handler_ids:"hi",has_adwords:"had",has_banner:"hb",has_english_courses:"hec",has_experience:"hex",has_inquiry_campaign:"hic",has_language_courses:"hlco",has_language_courses_types:"hlcot",has_language_studies:"hlst",has_lead_campaign:"hlc",has_organisations:"hor",has_reviews:"hre",has_venues:"hve",hash:"ha",highlight:"hl",ids:"id",ielts_max:"ieltsx",ielts_min:"ieltsm",in_ranking:"rk",intensity_max:"ix",intensity_min:"im",invert:"iv",ip:"ip",is_student:"is",iso_code:"iso",joint:"jt",keywords:"kw",kinds:"ki",language:"lan",language_course_ids:"lco",language_ids:"ln",latitude:"la",lead_campaign_ids:"ldc",legacy:"lgc",legacy_ids:"leg",level:"lev",levels:"lv",locale:"lc",locales:"lcs",locations:"loc",longitude:"lo",mailing_type_ids:"mty",manager_ids:"mid",member_student_ids:"msi",methods:"mh",mobility_types:"mt",name:"na",no_countries:"nci",no_disciplines:"ndi",no_duration_max:"ndx",no_duration_min:"ndm",no_from_countries:"nfc",no_levels:"nlv",no_options:"nop",no_purposes:"npp",no_users:"nus",not_country_ids:"!ci",not_degrees:"!dg",not_send:"ns",now:"now",occurrence_ids:"oc",options:"op",organisation_ids:"oi",over_budget:"ob",page:"pa",parent_ids:"pi",partial_reports:"plr",parttime_variants:"pv",person_ids:"ps",personal_updates:"per",population_max:"pox",population_min:"pom",portal_types:"pt",premiums:"pm",preparation_course_ids:"pco",presence:"pr",product_ids:"pro",project_types:"prj",public:"pb",purpose:"pu",purposes:"pp",qualified:"qa",query:"qu",ranking_ids:"ra",ratings:"rts",rbp:"rbp",recommended_ids:"rec",recursive:"rv",referred_student_ids:"rsi",region_ids:"rg",regions:"rgs",related_ids:"rel",relations:"rl",report_ids:"ri",responsive:"res",review_ids:"rw",rolling:"rol",scholarship_ids:"sc",search_variation:"sv",show_areas:"sa",site_ids:"sid",skills:"sk",special_programmes:"sps",spl:"sp",spotlight:"spl",start_dates:"sd",startdate_ids:"sta",statuses:"ss",student_ids:"su",student_organisation_ids:"so",study_deadline_ids:"sdl",study_ids:"st",study_relation:"sr",studyportals:"prtl",sublevel:"sl",subscribed:"sub",subscription_ids:"sb",tags:"tg",tail:"tail",target_ids:"ta",terms:"te",title:"til",to_area_ids:"tae",to_city_ids:"tci",to_country_ids:"tco",to_organisation_ids:"tor",to_region_ids:"trg",to_study_ids:"tst",to_user_ids:"tus",toefl_internet_max:"toeflix",toefl_internet_min:"toeflim",toefl_paper_max:"toeflpx",toefl_paper_min:"toeflpm",topic:"to",topic_ids:"tpc",toplevel:"tl",tuition_fee_currency:"tc",tuition_fee_max:"tx",tuition_fee_min:"tm",tuition_fee_target:"tt",tuition_fee_unit:"tu",tuition_ranges:"tr",type:"tp",types:"ty",uni_admin_users:"uau",uniqueid:"uid",url:"url",user_agent:"ua",user_country:"uc",user_ids:"us",user_region:"ur",venue_ids:"vn",webinar_ids:"wi",year:"yr"},types:{activated:"boolean",active:"boolean",affiliate:"string",allow:"boolean",application_partners:"boolean",approval:"boolean",area_ids:"integer[]",area_presence:"string[]",article_ids:"integer[]",assistant_ids:"integer[]",auditor_ids:"integer[]",banner_boxes:"string[]",banner_ids:"integer[]",body_ids:"integer[]",brand:"string",cae_max:"integer",cae_min:"integer",campaign_ids:"integer[]",capped_budget:"boolean",category_ids:"integer[]",chain_types:"string[]",child_ids:"integer[]",city_ids:"integer[]",classifications:"string[]",cms_user_id:"integer",comparison_ids:"integer[]",consortium_ids:"integer[]",continents:"boolean",country_ids:"integer[]",country_status:"string[]",course_ids:"integer[]",cpm_max:"integer",cpm_min:"integer",date_max:"timestamp",date_min:"timestamp",date_type:"string",degrees:"string[]",density:"string[]",discipline_ids:"integer[]",distance:"string",double_reports:"boolean",duration_max:"integer",duration_min:"integer",duration_ranges:"range[]",education_levels:"string[]",educational_forms:"string[]",email:"string",email_like:"string",entity:"string",entity_ids:"integer[]",entity_types:"string[]",entropy:"integer",entry_level:"string",entry_level_max:"string",entry_level_min:"string",exact_name:"string",exact_query:"string",executive:"boolean",experience_ids:"integer[]",external:"string",facebook_id:"string",favourite_ids:"integer[]",favourited:"boolean",fce_max:"integer",fce_min:"integer",filename:"string",from_area_ids:"integer[]",from_city_ids:"integer[]",from_country_ids:"integer[]",from_organisation_ids:"integer[]",from_region_ids:"integer[]",from_study_ids:"integer[]",from_user_ids:"integer[]",full_name:"string",full_name_email:"string",genders:"string[]",godmode:"boolean",group_ids:"integer[]",group_size_max:"integer",group_size_min:"integer",handler_ids:"integer[]",has_adwords:"boolean",has_banner:"boolean",has_english_courses:"boolean",has_experience:"boolean",has_inquiry_campaign:"boolean",has_language_courses:"boolean",has_language_courses_types:"string[]",has_language_studies:"boolean",has_lead_campaign:"boolean",has_organisations:"boolean",has_reviews:"boolean",has_venues:"boolean",hash:"string",highlight:"boolean",ids:"integer[]",ielts_max:"string",ielts_min:"string",in_ranking:"boolean",intensity_max:"integer",intensity_min:"integer",invert:"boolean",ip:"string",is_student:"boolean",iso_code:"string",joint:"string[]",keywords:"string",kinds:"string[]",language:"string",language_course_ids:"integer[]",language_ids:"integer[]",latitude:"string",lead_campaign_ids:"integer[]",legacy:"boolean",legacy_ids:"integer[]",level:"string",levels:"string[]",locale:"string",locales:"string[]",locations:"string[]",longitude:"string",mailing_type_ids:"integer[]",manager_ids:"integer[]",member_student_ids:"integer[]",methods:"string[]",mobility_types:"string[]",name:"string",no_countries:"boolean",no_disciplines:"boolean",no_duration_max:"boolean",no_duration_min:"boolean",no_from_countries:"boolean",no_levels:"boolean",no_options:"string[]",no_purposes:"boolean",no_users:"boolean",not_country_ids:"integer[]",not_degrees:"string[]",not_send:"boolean",now:"timestamp",occurrence_ids:"integer[]",options:"string[]",organisation_ids:"integer[]",over_budget:"boolean",page:"string",parent_ids:"integer[]",partial_reports:"boolean",parttime_variants:"string[]",person_ids:"integer[]",personal_updates:"boolean",population_max:"string",population_min:"string",portal_types:"string[]",premiums:"string[]",preparation_course_ids:"integer[]",presence:"string[]",product_ids:"integer[]",project_types:"string[]",public:"boolean",purpose:"string",purposes:"string[]",qualified:"boolean",query:"string",ranking_ids:"integer[]",ratings:"string[]",rbp:"boolean",recommended_ids:"integer[]",recursive:"boolean",referred_student_ids:"integer[]",region_ids:"integer[]",regions:"string[]",related_ids:"integer[]",relations:"string[]",report_ids:"integer[]",responsive:"boolean",review_ids:"integer[]",rolling:"boolean",scholarship_ids:"integer[]",search_variation:"integer",show_areas:"boolean",site_ids:"integer[]",skills:"string[]",special_programmes:"string[]",spl:"boolean",spotlight:"boolean",start_dates:"string[]",startdate_ids:"integer[]",statuses:"string[]",student_ids:"integer[]",student_organisation_ids:"integer[]",study_deadline_ids:"integer[]",study_ids:"integer[]",study_relation:"boolean",studyportals:"boolean",sublevel:"boolean",subscribed:"boolean",subscription_ids:"integer[]",tags:"string[]",tail:"boolean",target_ids:"integer[]",terms:"string[]",title:"string",to_area_ids:"integer[]",to_city_ids:"integer[]",to_country_ids:"integer[]",to_organisation_ids:"integer[]",to_region_ids:"integer[]",to_study_ids:"integer[]",to_user_ids:"integer[]",toefl_internet_max:"integer",toefl_internet_min:"integer",toefl_paper_max:"integer",toefl_paper_min:"integer",topic:"string",topic_ids:"integer[]",toplevel:"boolean",tuition_fee_currency:"string",tuition_fee_max:"integer",tuition_fee_min:"integer",tuition_fee_target:"string",tuition_fee_unit:"string",tuition_ranges:"range[]",type:"string",types:"string[]",uni_admin_users:"boolean",uniqueid:"string",url:"string",user_agent:"string",user_country:"integer",user_ids:"integer[]",user_region:"integer",venue_ids:"integer[]",webinar_ids:"integer[]",year:"integer"},alias(e){if("object"!=typeof e)return"";if(0===e.length)return"";let t=[],n=this;return e=this._sort(e),Object.keys(e).map((function(r){let i=e[r];switch(n._getType(r)){case"string[]":try{t.push(n._serializeStringArray(r,i))}catch(e){}break;case"integer[]":try{t.push(n._serializeIntegerArray(r,i))}catch(e){}break;case"range[]":try{t.push(n._serializeRangeArray(r,i))}catch(e){}break;case"string":"string"!=typeof i&&(i=""),i=i.trim(),""!==i&&t.push(n._getShortName(r)+"-"+i);break;case"integer":i=parseInt(i,10),isNaN(i)||t.push(n._getShortName(r)+"-"+i);break;case"boolean":i?t.push(n._getShortName(r)+"-1"):t.push(n._getShortName(r)+"-0");break;case"timestamp":try{i=n._parseTimeStamp(i),t.push(n._getShortName(r)+"-"+i)}catch(e){}}})),0===t.length?"":t.join("|")},unalias(e){if("string"!=typeof e)return{};let t=e.split("|");t.sort();let n={},r=this;return t.map((function(e){let t=e.split("-"),i=t.shift(),a=t.join("-"),o=r._getLongName(i);if(""===o)return;let s=r._getType(o);if(""!==s)switch(s){case"string[]":try{n[o]=r._unserializeStringArray(a)}catch(e){return}break;case"integer[]":try{n[o]=r._unserializeIntegerArray(a)}catch(e){return}break;case"range[]":try{n[o]=r._unserializeRangeArray(a)}catch(e){return}break;case"string":n[o]=a;break;case"integer":isNaN(parseInt(a,10))||(n[o]=a);break;case"boolean":n[o]=!1,a&&(n[o]=!0)}})),n},_sort(e){let t=[];Object.keys(e).map((function(e){t.push(e)})),t.sort();let n={};return t.map((function(t){n[t]=e[t]})),n},_unserializeStringArray(e){let t=e.split(","),n=[];if(t.map((function(e){let t=e.trim();""!==t&&n.push(t)})),0===n.length)throw new Error("Parameters._unserializeStringArray: clean array is empty");return n},_unserializeIntegerArray(e){let t=e.split(","),n=[];if(t.map((function(e){let t=parseInt(e,10);isNaN(t)||n.push(t)})),0===n.length)throw new Error("Parameters._unserializeIntegerArray: empty clean array!");return n},_serializeRangeArray(e,t){if(""===this._getShortName(e))throw new Error("No alias found for "+e+"!");if(t instanceof Array!=1)throw new Error("Not an array!");if(0===t.length)throw new Error("Empty array!");let n=[];if(t.map((function(e){if(e instanceof Array==0)throw new Error("Range not an array!");let t=[];e.map((function(e){let n=parseInt(e,10);if(isNaN(n))throw new Error("Range value is not a number!");t.push(n)})),n.push("["+t.join(",")+"]")})),0===n.length)throw new Error("Empty clean array!");return this._getShortName(e)+"-"+n.join(",")},_unserializeRangeArray(e){e="["+e+"]";let t=[];try{t=JSON.parse(e)}catch(e){throw new Error("Parameters._unserializeRangeArray: incorrect range format!")}if(!(t instanceof Array))throw new Error("Parameters._unserializeRangeArray: ranges is not an array!");if(0===t.length)throw new Error("Parameters._unserializeRangeArray: nothing found in ranges!");let n=[];return t.map((function(e){if(2!==e.length)throw new Error("Parameters._unserializeRangeArray: single range should have two values!");let t=[];e.map((function(e){t.push(parseInt(e,10))})),n.push(t)})),n},_serializeIntegerArray(e,t){if(""===this._getShortName(e))throw new Error("No alias found for "+e+"!");if(!(t instanceof Array))throw new Error("Not an array!");if(0===t.length)throw new Error("Empty array!");let n=[];if(t.map((function(e){let t=parseInt(e,10);isNaN(t)||n.push(t)})),0===n.length)throw new Error("Empty clean array!");return this._getShortName(e)+"-"+n.join(",")},_serializeStringArray(e,t){if(""===this._getShortName(e))throw new Error("No alias found for "+e+"!");if(!(t instanceof Array))throw new Error("Not an array!");if(0===t.length)throw new Error("Empty array!");let n=[];if(t.map((function(e){let t=e.trim();""!==t&&n.push(t)})),0===n.length)throw new Error("Empty clean array!");return this._getShortName(e)+"-"+n.join(",")},_getType(e){return void 0!==this.types[e]?this.types[e]:""},_getShortName(e){return void 0!==this.aliases[e]?this.aliases[e]:""},_getLongName(e){let t="",n=this;return Object.keys(this.aliases).map((function(r){n.aliases[r]===e&&(t=r)})),t},_parseTimeStamp(e){e=e.trim();let t=0,n=0,r=0,i=0,a=1,o=new Date,s=o.getFullYear(),c=moment(o).format("ZZ");if(o.setSeconds(parseInt(r,10)),19===e.length&&(c=e.substr(14,5)),18===e.length){let t=parseInt(e.substr(14,2),10),n=parseInt(e.substr(16,2),10),r=new Date;r.setHours(12,0,0);let i=new Date;i.setHours(t,n,0);let a=r.diff(i,"minute"),o="+";a<0&&(o="-"),a=Math.abs(a),n=a%60,t=Math.floor(a/60),n=n.toString().pad(2,"0","left"),t=t.toString().pad(2,"0","left"),c=o+t+n}switch(e.length){case 19:case 18:case 14:r=e.substr(12,2);case 12:n=e.substr(10,2);case 10:t=e.substr(8,2);case 8:a=e.substr(6,2);case 6:i=e.substr(4,2),i=parseInt(i,10)-1;case 4:s=e.substr(0,4);break;default:throw new Error("Invalid length for datetime, expecting 4, 6, 8, 10, 12, 14, 16, 18 or 19")}return o.setHours(parseInt(t,10)),o.setMinutes(parseInt(n,10)),o.setSeconds(parseInt(r,10)),o.setFullYear(parseInt(s,10)),o.setDate(parseInt(a,10)),o.setMonth(parseInt(i,10)),moment(o).format("YYYYMMDDHHmmss")+c}};t.default=r},20:function(e,t,n){e.exports=function(){"use strict";var e="millisecond",t="second",n="minute",r="hour",i="day",a="week",o="month",s="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,o),a=n-i<0,s=t.clone().add(r+(a?-1:1),o);return+(-(r+(n-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:o,y:c,w:a,d:i,D:u,h:r,m:n,s:t,ms:e,Q:s}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},p="en",f={};f[p]=h;var _=function(e){return e instanceof S},y=function(e,t,n){var r;if(!e)return p;if("string"==typeof e)f[e]&&(r=e),t&&(f[e]=t,r=e);else{var i=e.name;f[i]=e,r=i}return!n&&r&&(p=r),r||!n&&p},w=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},v=g;v.l=y,v.i=_,v.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function h(e){this.$L=y(e.locale,null,!0),this.parse(e)}var m=h.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(l);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return v},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return w(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<w(e)},m.$g=function(e,t,n){return v.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,s){var l=this,d=!!v.u(s)||s,h=v.p(e),m=function(e,t){var n=v.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?n:n.endOf(i)},g=function(e,t){return v.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,f=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return d?m(1,0):m(31,11);case o:return d?m(1,f):m(0,f+1);case a:var w=this.$locale().weekStart||0,S=(p<w?p+7:p)-w;return m(d?_-S:_+(6-S),f);case i:case u:return g(y+"Hours",0);case r:return g(y+"Minutes",1);case n:return g(y+"Seconds",2);case t:return g(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(a,s){var l,d=v.p(a),h="set"+(this.$u?"UTC":""),m=(l={},l[i]=h+"Date",l[u]=h+"Date",l[o]=h+"Month",l[c]=h+"FullYear",l[r]=h+"Hours",l[n]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[d],g=d===i?this.$D+(s-this.$W):s;if(d===o||d===c){var p=this.clone().set(u,1);p.$d[m](g),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](g);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[v.p(e)]()},m.add=function(e,s){var u,l=this;e=Number(e);var d=v.p(s),h=function(t){var n=w(l);return v.w(n.date(n.date()+Math.round(t*e)),l)};if(d===o)return this.set(o,this.$M+e);if(d===c)return this.set(c,this.$y+e);if(d===i)return h(1);if(d===a)return h(7);var m=(u={},u[n]=6e4,u[r]=36e5,u[t]=1e3,u)[d]||1,g=this.$d.getTime()+e*m;return v.w(g,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=v.z(this),i=this.$locale(),a=this.$H,o=this.$m,s=this.$M,c=i.weekdays,u=i.months,l=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].substr(0,a)},h=function(e){return v.s(a%12||12,e,"0")},m=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:v.s(s+1,2,"0"),MMM:l(i.monthsShort,s,u,3),MMMM:l(u,s),D:this.$D,DD:v.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,c,2),ddd:l(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:v.s(a,2,"0"),h:h(1),hh:h(2),a:m(a,o,!0),A:m(a,o,!1),m:String(o),mm:v.s(o,2,"0"),s:String(this.$s),ss:v.s(this.$s,2,"0"),SSS:v.s(this.$ms,3,"0"),Z:r};return n.replace(d,(function(e,t){return t||g[e]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(e,u,l){var d,h=v.p(u),m=w(e),g=6e4*(m.utcOffset()-this.utcOffset()),p=this-m,f=v.m(this,m);return f=(d={},d[c]=f/12,d[o]=f,d[s]=f/3,d[a]=(p-g)/6048e5,d[i]=(p-g)/864e5,d[r]=p/36e5,d[n]=p/6e4,d[t]=p/1e3,d)[h]||p,l?f:v.a(f)},m.daysInMonth=function(){return this.endOf(o).$D},m.$locale=function(){return f[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=y(e,t,!0);return r&&(n.$L=r),n},m.clone=function(){return v.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),b=S.prototype;return w.prototype=b,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",i],["$M",o],["$y",c],["$D",u]].forEach((function(e){b[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,S,w),e.$i=!0),w},w.locale=y,w.isDayjs=_,w.unix=function(e){return w(1e3*e)},w.en=f[p],w.Ls=f,w.p={},w}()},21:function(e,t){e.exports=modal},310:function(e,t,n){n(311),n(324),n(325),n(61),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),e.exports=n(339)},311:function(e,t,n){"use strict";var r=n(312),i=g(n(314)),a=n(317),o=h(n(318)),s=g(n(319)),c=h(n(320)),u=h(n(321)),l=h(n(322)),d=g(n(323));function h(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}const p={DataStorage:r.DataStorage,MicroserviceInjector:i,DotmailerTracker:a.DotmailerTracker,FormGenerator:o.default,BodyScrollLock:s,cryptoJSmd5:c.default,cryptoJSEncUtf8:u.default,cryptoJSEncBase64:l.default,Countries:d};window.Loot=p},312:function(e,t,n){"use strict";var r=new(n(313).DataStorage);r.init(),e.exports={DataStorage:r}},313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.enabled=!1}return e.prototype.init=function(){try{if("undefined"==typeof localStorage)return void(this.enabled=!1);localStorage.setItem("test","dummy value"),localStorage.removeItem("test"),this.enabled=!0}catch(e){this.enabled=!1}},e.prototype.store=function(e,t,n){if(void 0===n&&(n=1800),this.enabled){var r=new Date,i={expires:r.setSeconds(r.getSeconds()+n),data:t};localStorage[e]=JSON.stringify(i)}else document.cookie=e+"="+t+";expires="+n/86400;return!0},e.prototype.retrieve=function(e){if(this.enabled){var t=localStorage[e];try{t=JSON.parse(t)}catch(e){t={}}if(!t||!t.hasOwnProperty("expires")||!t.hasOwnProperty("data"))return"";var n=parseInt(t.expires,10);return isNaN(n)&&(n=0),new Date>=new Date(n)?(localStorage[e]=null,""):t.data}return this.getCookie(e)},e.prototype.remove=function(e){this.enabled?delete localStorage[e]:document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e.prototype.update=function(e,t,n){var r=this.retrieve(e);return"object"!=typeof r&&(r={}),r=Object.assign({},r,t),this.store(e,r,n),r},e.prototype.getCookie=function(e){var t=RegExp(e+"=.[^;]*"),n=document.cookie.match(t);return n?n[0].split("=")[1]:""},e}();t.DataStorage=r},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(315),i=n(316);t.injectScriptToBody=function(e){return r.default(e,document.body)},t.injectStyleSheetToHead=function(e){return i.default(e,document.head||document.body)}},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise((function(n,r){var i=document.createElement("script");i.onload=function(){return n()},i.onerror=function(){return r()},i.async=!1,i.src=e,t.appendChild(i)}))}},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise((function(n,r){var i=document.createElement("link");i.rel="stylesheet",i.onload=function(){return n()},i.onerror=function(){return r()},i.href=e,t.appendChild(i)}))}},317:function(e,t,n){e.exports.DotmailerTracker=n(340).default},318:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.form=e}return e.handleElementBlur=function(t){e.addOrRemoveElementHasValueClass(t),t.classList.remove("HasFocus")},e.handleElementFocus=function(e){e.classList.add("HasFocus")},e.addOrRemoveElementHasValueClass=function(e){""!==e.value?e.classList.add("HasValue"):e.classList.remove("HasValue")},e.prototype.generate=function(){this.addEventListeners(),this.repositionElementLabels()},e.prototype.addEventListeners=function(){this.form.addEventListener("blur",(function(t){t.target&&e.handleElementBlur(t.target)}),!0),this.form.addEventListener("focus",(function(t){t.target&&e.handleElementFocus(t.target)}),!0)},e.prototype.repositionElementLabels=function(){this.getInputElements().forEach((function(t){e.addOrRemoveElementHasValueClass(t)}))},e.prototype.getInputElements=function(){return Array.from(this.form.elements).filter((function(e){return e instanceof HTMLInputElement})).map((function(e){return e}))},e}();t.default=n},319:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}function i(e){return c.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))}function a(e){var t=e||window.event;return!!i(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)}function o(){setTimeout((function(){void 0!==h&&(document.body.style.paddingRight=h,h=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)}))}var s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),c=[],u=!1,l=-1,d=void 0,h=void 0;e.disableBodyScroll=function(e,r){if(s){if(!e)return;if(e&&!c.some((function(t){return t.targetElement===e}))){var o={targetElement:e,options:r||{}};c=[].concat(t(c),[o]),e.ontouchstart=function(e){1===e.targetTouches.length&&(l=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,o,s;1===t.targetTouches.length&&(r=e,s=(n=t).targetTouches[0].clientY-l,i(n.target)||(r&&0===r.scrollTop&&0<s||(o=r)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&s<0?a(n):n.stopPropagation()))},u||(document.addEventListener("touchmove",a,n?{passive:!1}:void 0),u=!0)}}else{g=r,setTimeout((function(){if(void 0===h){var e=!!g&&!0===g.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(h=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")}));var m={targetElement:e,options:r||{}};c=[].concat(t(c),[m])}var g},e.clearAllBodyScrollLocks=function(){s?(c.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),u&&(document.removeEventListener("touchmove",a,n?{passive:!1}:void 0),u=!1),c=[],l=-1):(o(),c=[])},e.enableBodyScroll=function(e){if(s){if(!e)return;e.ontouchstart=null,e.ontouchmove=null,c=c.filter((function(t){return t.targetElement!==e})),u&&0===c.length&&(document.removeEventListener("touchmove",a,n?{passive:!1}:void 0),u=!1)}else(c=c.filter((function(t){return t.targetElement!==e}))).length||o()}})?r.apply(t,[t]):r)||(e.exports=i)},320:function(e,t,n){var r;e.exports=(r=n(137),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],c=e[t+1],m=e[t+2],g=e[t+3],p=e[t+4],f=e[t+5],_=e[t+6],y=e[t+7],w=e[t+8],v=e[t+9],S=e[t+10],b=e[t+11],k=e[t+12],C=e[t+13],E=e[t+14],L=e[t+15],T=a[0],A=a[1],x=a[2],P=a[3];T=u(T,A,x,P,o,7,s[0]),P=u(P,T,A,x,c,12,s[1]),x=u(x,P,T,A,m,17,s[2]),A=u(A,x,P,T,g,22,s[3]),T=u(T,A,x,P,p,7,s[4]),P=u(P,T,A,x,f,12,s[5]),x=u(x,P,T,A,_,17,s[6]),A=u(A,x,P,T,y,22,s[7]),T=u(T,A,x,P,w,7,s[8]),P=u(P,T,A,x,v,12,s[9]),x=u(x,P,T,A,S,17,s[10]),A=u(A,x,P,T,b,22,s[11]),T=u(T,A,x,P,k,7,s[12]),P=u(P,T,A,x,C,12,s[13]),x=u(x,P,T,A,E,17,s[14]),T=l(T,A=u(A,x,P,T,L,22,s[15]),x,P,c,5,s[16]),P=l(P,T,A,x,_,9,s[17]),x=l(x,P,T,A,b,14,s[18]),A=l(A,x,P,T,o,20,s[19]),T=l(T,A,x,P,f,5,s[20]),P=l(P,T,A,x,S,9,s[21]),x=l(x,P,T,A,L,14,s[22]),A=l(A,x,P,T,p,20,s[23]),T=l(T,A,x,P,v,5,s[24]),P=l(P,T,A,x,E,9,s[25]),x=l(x,P,T,A,g,14,s[26]),A=l(A,x,P,T,w,20,s[27]),T=l(T,A,x,P,C,5,s[28]),P=l(P,T,A,x,m,9,s[29]),x=l(x,P,T,A,y,14,s[30]),T=d(T,A=l(A,x,P,T,k,20,s[31]),x,P,f,4,s[32]),P=d(P,T,A,x,w,11,s[33]),x=d(x,P,T,A,b,16,s[34]),A=d(A,x,P,T,E,23,s[35]),T=d(T,A,x,P,c,4,s[36]),P=d(P,T,A,x,p,11,s[37]),x=d(x,P,T,A,y,16,s[38]),A=d(A,x,P,T,S,23,s[39]),T=d(T,A,x,P,C,4,s[40]),P=d(P,T,A,x,o,11,s[41]),x=d(x,P,T,A,g,16,s[42]),A=d(A,x,P,T,_,23,s[43]),T=d(T,A,x,P,v,4,s[44]),P=d(P,T,A,x,k,11,s[45]),x=d(x,P,T,A,L,16,s[46]),T=h(T,A=d(A,x,P,T,m,23,s[47]),x,P,o,6,s[48]),P=h(P,T,A,x,y,10,s[49]),x=h(x,P,T,A,E,15,s[50]),A=h(A,x,P,T,f,21,s[51]),T=h(T,A,x,P,k,6,s[52]),P=h(P,T,A,x,g,10,s[53]),x=h(x,P,T,A,S,15,s[54]),A=h(A,x,P,T,c,21,s[55]),T=h(T,A,x,P,w,6,s[56]),P=h(P,T,A,x,L,10,s[57]),x=h(x,P,T,A,_,15,s[58]),A=h(A,x,P,T,C,21,s[59]),T=h(T,A,x,P,p,6,s[60]),P=h(P,T,A,x,b,10,s[61]),x=h(x,P,T,A,m,15,s[62]),A=h(A,x,P,T,v,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+A|0,a[2]=a[2]+x|0,a[3]=a[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function l(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function h(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(c),t.HmacMD5=a._createHmacHelper(c)}(Math),r.MD5)},321:function(e,t,n){e.exports=n(137).enc.Utf8},322:function(e,t,n){var r,i,a;e.exports=(a=n(137),i=(r=a).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var a=0;a<n.length;a++)r[n.charCodeAt(a)]=a}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],a=0,o=0;o<t;o++)if(o%4){var s=n[e.charCodeAt(o-1)]<<o%4*2,c=n[e.charCodeAt(o)]>>>6-o%4*2;r[a>>>2]|=(s|c)<<24-a%4*8,a++}return i.create(r,a)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},a.enc.Base64)},323:function(e){e.exports=JSON.parse('{"1":{"name":"Netherlands","iso_code":"NL"},"2":{"name":"Bulgaria","iso_code":"BG"},"3":{"name":"Austria","iso_code":"AT"},"4":{"name":"Belgium","iso_code":"BE"},"5":{"name":"Cyprus","iso_code":"CY"},"6":{"name":"Denmark","iso_code":"DK"},"7":{"name":"Czech Republic","iso_code":"CZ"},"8":{"name":"Estonia","iso_code":"EE"},"9":{"name":"Finland","iso_code":"FI"},"10":{"name":"France","iso_code":"FR"},"11":{"name":"Germany","iso_code":"DE"},"12":{"name":"Hungary","iso_code":"HU"},"13":{"name":"Iceland","iso_code":"IS"},"14":{"name":"Ireland","iso_code":"IE"},"15":{"name":"Italy","iso_code":"IT"},"16":{"name":"Latvia","iso_code":"LV"},"17":{"name":"Lithuania","iso_code":"LT"},"18":{"name":"Macedonia (FYROM)","iso_code":"MK"},"19":{"name":"Norway","iso_code":"NO"},"20":{"name":"Poland","iso_code":"PL"},"21":{"name":"Portugal","iso_code":"PT"},"22":{"name":"Russia","iso_code":"RU"},"23":{"name":"Serbia","iso_code":"RS"},"24":{"name":"Spain","iso_code":"ES"},"25":{"name":"Greece","iso_code":"GR"},"26":{"name":"Sweden","iso_code":"SE"},"27":{"name":"Switzerland","iso_code":"CH"},"28":{"name":"Turkey","iso_code":"TR"},"29":{"name":"Ukraine","iso_code":"UA"},"30":{"name":"United Kingdom","iso_code":"GB"},"31":{"name":"Slovenia","iso_code":"SI"},"33":{"name":"Romania","iso_code":"RO"},"34":{"name":"Luxembourg","iso_code":"LU"},"35":{"name":"Malta","iso_code":"MT"},"36":{"name":"Monaco","iso_code":"MC"},"37":{"name":"Moldova","iso_code":"MD"},"38":{"name":"Croatia","iso_code":"HR"},"39":{"name":"Montenegro","iso_code":"ME"},"40":{"name":"Bosnia and Herzegovina","iso_code":"BA"},"41":{"name":"Slovakia","iso_code":"SK"},"42":{"name":"Albania","iso_code":"AL"},"43":{"name":"Isle of Man","iso_code":"IM"},"44":{"name":"Andorra","iso_code":"AD"},"45":{"name":"Belarus","iso_code":"BY"},"46":{"name":"Faroe Islands","iso_code":"FO"},"47":{"name":"Liechtenstein","iso_code":"LI"},"48":{"name":"San Marino","iso_code":"SM"},"49":{"name":"Antigua and Barbuda","iso_code":"AG"},"50":{"name":"Aruba","iso_code":"AW"},"51":{"name":"Bahamas","iso_code":"BS"},"52":{"name":"Barbados","iso_code":"BB"},"53":{"name":"Belize","iso_code":"BZ"},"54":{"name":"Bermuda","iso_code":"BM"},"55":{"name":"British Virgin Islands","iso_code":"VG"},"56":{"name":"Canada","iso_code":"CA"},"57":{"name":"Cayman Islands","iso_code":"KY"},"58":{"name":"Costa Rica","iso_code":"CR"},"59":{"name":"Cuba","iso_code":"CU"},"60":{"name":"Dominica","iso_code":"DM"},"61":{"name":"Dominican Republic","iso_code":"DO"},"62":{"name":"El Salvador","iso_code":"SV"},"63":{"name":"Greenland","iso_code":"GL"},"64":{"name":"Grenada","iso_code":"GD"},"65":{"name":"Guadeloupe","iso_code":"GP"},"66":{"name":"Guatemala","iso_code":"GT"},"67":{"name":"Haiti","iso_code":"HT"},"68":{"name":"Honduras","iso_code":"HN"},"69":{"name":"Jamaica","iso_code":"JM"},"70":{"name":"Martinique","iso_code":"MQ"},"71":{"name":"Mexico","iso_code":"MX"},"72":{"name":"Montserrat","iso_code":"MS"},"74":{"name":"Nicaragua","iso_code":"NI"},"75":{"name":"Panama","iso_code":"PA"},"76":{"name":"Puerto Rico","iso_code":"PR"},"77":{"name":"Saint Kitts and Nevis","iso_code":"KN"},"78":{"name":"Saint Lucia","iso_code":"LC"},"79":{"name":"Saint Pierre and Miquelon","iso_code":"PM"},"80":{"name":"Saint Vincent and the Grenadines","iso_code":"VC"},"81":{"name":"Trinidad and Tobago","iso_code":"TT"},"82":{"name":"United States","iso_code":"US"},"83":{"name":"United States Virgin Islands","iso_code":"VI"},"84":{"name":"Argentina","iso_code":"AR"},"85":{"name":"Bolivia","iso_code":"BO"},"86":{"name":"Brazil","iso_code":"BR"},"87":{"name":"Chile","iso_code":"CL"},"88":{"name":"Colombia","iso_code":"CO"},"89":{"name":"Ecuador","iso_code":"EC"},"90":{"name":"French Guiana","iso_code":"GF"},"91":{"name":"Guyana","iso_code":"GY"},"92":{"name":"Paraguay","iso_code":"PY"},"93":{"name":"Peru","iso_code":"PE"},"94":{"name":"Suriname","iso_code":"SR"},"95":{"name":"Uruguay","iso_code":"UY"},"96":{"name":"Venezuela","iso_code":"VE"},"97":{"name":"Afghanistan","iso_code":"AF"},"98":{"name":"Armenia","iso_code":"AM"},"99":{"name":"Azerbaijan","iso_code":"AZ"},"100":{"name":"Bahrain","iso_code":"BH"},"101":{"name":"Bangladesh","iso_code":"BD"},"102":{"name":"Bhutan","iso_code":"BT"},"103":{"name":"Brunei","iso_code":"BN"},"104":{"name":"Cambodia","iso_code":"KH"},"105":{"name":"China","iso_code":"CN"},"106":{"name":"Georgia","iso_code":"GE"},"107":{"name":"Hong Kong (SAR)","iso_code":"HK"},"108":{"name":"India","iso_code":"IN"},"109":{"name":"Indonesia","iso_code":"ID"},"110":{"name":"Iran","iso_code":"IR"},"111":{"name":"Iraq","iso_code":"IQ"},"112":{"name":"Israel","iso_code":"IL"},"113":{"name":"Japan","iso_code":"JP"},"114":{"name":"Jordan","iso_code":"JO"},"115":{"name":"Kazakhstan","iso_code":"KZ"},"116":{"name":"North Korea","iso_code":"KP"},"117":{"name":"South Korea","iso_code":"KR"},"118":{"name":"Kuwait","iso_code":"KW"},"119":{"name":"Kyrgyzstan","iso_code":"KG"},"120":{"name":"Laos","iso_code":"LA"},"121":{"name":"Lebanon","iso_code":"LB"},"122":{"name":"Macao (SAR)","iso_code":"MO"},"123":{"name":"Malaysia","iso_code":"MY"},"124":{"name":"Maldives","iso_code":"MV"},"125":{"name":"Mongolia","iso_code":"MN"},"126":{"name":"Myanmar","iso_code":"MM"},"127":{"name":"Nepal","iso_code":"NP"},"128":{"name":"Oman","iso_code":"OM"},"129":{"name":"Pakistan","iso_code":"PK"},"130":{"name":"Philippines","iso_code":"PH"},"131":{"name":"Qatar","iso_code":"QA"},"132":{"name":"Saudi Arabia","iso_code":"SA"},"133":{"name":"Singapore","iso_code":"SG"},"134":{"name":"Sri Lanka","iso_code":"LK"},"135":{"name":"Syria","iso_code":"SY"},"136":{"name":"Taiwan","iso_code":"TW"},"137":{"name":"Tajikistan","iso_code":"TJ"},"138":{"name":"Thailand","iso_code":"TH"},"139":{"name":"Turkmenistan","iso_code":"TM"},"140":{"name":"United Arab Emirates","iso_code":"AE"},"141":{"name":"Uzbekistan","iso_code":"UZ"},"142":{"name":"Vietnam","iso_code":"VN"},"143":{"name":"Yemen","iso_code":"YE"},"144":{"name":"Palestinian Territory, Occupied","iso_code":"PS"},"145":{"name":"Algeria","iso_code":"DZ"},"146":{"name":"Angola","iso_code":"AO"},"147":{"name":"Benin","iso_code":"BJ"},"148":{"name":"Botswana","iso_code":"BW"},"149":{"name":"Burkina Faso","iso_code":"BF"},"150":{"name":"Burundi","iso_code":"BI"},"151":{"name":"Cameroon","iso_code":"CM"},"152":{"name":"Cape Verde","iso_code":"CV"},"153":{"name":"Central African Republic","iso_code":"CF"},"154":{"name":"Chad","iso_code":"TD"},"155":{"name":"Comoros","iso_code":"KM"},"156":{"name":"Congo (Democratic Republic of the)","iso_code":"CD"},"157":{"name":"Congo (Republic of the)","iso_code":"CG"},"158":{"name":"Côte d\'Ivoire","iso_code":"CI"},"159":{"name":"Djibouti","iso_code":"DJ"},"160":{"name":"Timor-Leste","iso_code":"TL"},"161":{"name":"Egypt","iso_code":"EG"},"162":{"name":"Equatorial Guinea","iso_code":"GQ"},"163":{"name":"Eritrea","iso_code":"ER"},"164":{"name":"Ethiopia","iso_code":"ET"},"165":{"name":"Gabon","iso_code":"GA"},"166":{"name":"Gambia","iso_code":"GM"},"167":{"name":"Ghana","iso_code":"GH"},"168":{"name":"Guinea","iso_code":"GN"},"169":{"name":"Guinea-Bissau","iso_code":"GW"},"170":{"name":"Kenya","iso_code":"KE"},"171":{"name":"Lesotho","iso_code":"LS"},"172":{"name":"Liberia","iso_code":"LR"},"173":{"name":"Libya","iso_code":"LY"},"174":{"name":"Madagascar","iso_code":"MG"},"175":{"name":"Malawi","iso_code":"MW"},"176":{"name":"Mali","iso_code":"ML"},"177":{"name":"Mauritania","iso_code":"MR"},"178":{"name":"Mauritius","iso_code":"MU"},"179":{"name":"Morocco","iso_code":"MA"},"180":{"name":"Mozambique","iso_code":"MZ"},"181":{"name":"Namibia","iso_code":"NA"},"182":{"name":"Niger","iso_code":"NE"},"183":{"name":"Nigeria","iso_code":"NG"},"184":{"name":"Réunion","iso_code":"RE"},"185":{"name":"Rwanda","iso_code":"RW"},"186":{"name":"São Tomé and Príncipe","iso_code":"ST"},"187":{"name":"Senegal","iso_code":"SN"},"188":{"name":"Seychelles","iso_code":"SC"},"189":{"name":"Sierra Leone","iso_code":"SL"},"190":{"name":"Somalia","iso_code":"SO"},"191":{"name":"South Africa","iso_code":"ZA"},"192":{"name":"Sudan","iso_code":"SD"},"193":{"name":"Swaziland","iso_code":"SZ"},"194":{"name":"Tanzania","iso_code":"TZ"},"195":{"name":"Togo","iso_code":"TG"},"196":{"name":"Tunisia","iso_code":"TN"},"197":{"name":"Uganda","iso_code":"UG"},"198":{"name":"Western Sahara","iso_code":"EH"},"199":{"name":"Zambia","iso_code":"ZM"},"200":{"name":"Zimbabwe","iso_code":"ZW"},"201":{"name":"American Samoa","iso_code":"AS"},"202":{"name":"Australia","iso_code":"AU"},"203":{"name":"Cook Islands","iso_code":"CK"},"204":{"name":"Fiji","iso_code":"FJ"},"205":{"name":"French Polynesia","iso_code":"PF"},"206":{"name":"Guam","iso_code":"GU"},"207":{"name":"Kiribati","iso_code":"KI"},"208":{"name":"Marshall Islands","iso_code":"MH"},"209":{"name":"Micronesia, Federated States of","iso_code":"FM"},"210":{"name":"Nauru","iso_code":"NR"},"211":{"name":"New Caledonia","iso_code":"NC"},"212":{"name":"New Zealand","iso_code":"NZ"},"213":{"name":"Niue","iso_code":"NU"},"214":{"name":"Northern Mariana Islands","iso_code":"MP"},"215":{"name":"Palau","iso_code":"PW"},"216":{"name":"Papua New Guinea","iso_code":"PG"},"217":{"name":"Samoa","iso_code":"WS"},"218":{"name":"Solomon Islands","iso_code":"SB"},"219":{"name":"Tonga","iso_code":"TO"},"220":{"name":"Tuvalu","iso_code":"TV"},"221":{"name":"Vanuatu","iso_code":"VU"},"222":{"name":"Saint Barthélemy","iso_code":"BL"},"223":{"name":"Sint Maarten","iso_code":"SX"},"224":{"name":"Anguilla","iso_code":"AI"},"225":{"name":"Curaçao","iso_code":"CW"},"226":{"name":"Turks and Caicos Islands","iso_code":"TC"},"227":{"name":"Bonaire, Sint Eustatius and Saba (former Netherlands Antilles)","iso_code":"BQ"},"229":{"name":"Northern Cyprus","iso_code":"XC"},"230":{"name":"Kosovo","iso_code":"XK"},"232":{"name":"South Sudan","iso_code":"SS"}}')},324:function(e,t,n){"use strict";var r=a(n(60)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",(function(){Fupcah.onload((function(){r.default.resetPreviousPage(),r.default.checkReloadState(),r.default.collect(),r.default.trackExternalLinks(),document.addEventListener("mouseup",(function(e){if(!1===e.rightClick){const t=e.target;if(t&&t.classList.contains("TrackingInternalLink")){const e=r.default.gather(t);r.default.send([e])}}}))})),-1===window.location.href.indexOf("/search/")&&i.default.GA.firePageView()})),window.onbeforeunload=function(){const e=window.location.toString(),t=r.default.getTrackData();null!==t&&(t.previousPage=e,r.default.setCookie(t))}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r={createMark(e){window&&window.performance&&window.performance.mark&&performance.mark(e+"_mark")},send(e){if(!(window&&window.performance&&window.performance.measure&&window.performance.getEntriesByName))return;try{performance.measure(e.action+"_measure",e.start+"_mark",e.end+"_mark")}catch(e){return}const t=performance.getEntriesByName(e.action+"_measure")[0],n=Math.round(t.duration);this.trackTimingEvent({category:e.category,action:e.action,label:n})},trackTimingEvent(e){Shared.addFunctionToPipelineTracker(t=>{t.trackStructEvent(e.category,e.action,e.label)})}};window.Performance=r;var i=r;t.default=i},326:function(e,t,n){"use strict";!function(){const e=navigator.userAgent.toLowerCase(),t=function(t){return-1!==e.indexOf(t.toLowerCase())};(t("windows")&&(t("chrome")||t("firefox")||t("edge"))||t("macintosh")&&(t("chrome")||t("safari"))||t("android")&&t("chrome")||t("iphone")&&t("safari"))&&(window.ExperimentScript=class{constructor(e,t,n){this.experimentName=e,this.variations=t,this.style=document.createElement("style"),this.style.innerHTML=n,this.variation={},this.experimentPropertiesValidation(e,t,n).length||this.initiateExperiment()}experimentPropertiesValidation(e,t,n){let r="";"string"==typeof e&&e.length||(r="No experiment name"),"[object Array]"===Object.prototype.toString.call(t)&&t.length||(r="Variations not of right format");let i=0;return t.forEach(e=>{"number"==typeof e.number&&"number"==typeof e.traffic&&"string"==typeof e.name&&e.name.length?i+=e.traffic:r="One of variations not of right format"}),100!==Math.round(i)&&(r="Total traffic of all variations is not 100%"),"string"!=typeof n&&(r="Styling not of right format"),r}areConditionsMet(){return!0}setVariation(){if(!window.Loot||!Loot.DataStorage||"function"!=typeof Loot.DataStorage.retrieve||"function"!=typeof Loot.DataStorage.store)return;const e="Experiment/"+this.experimentName;this.variation=Loot.DataStorage.retrieve(e),this.variation&&"number"==typeof this.variation.number||(this.decideVariation(),Loot.DataStorage.store(e,this.variation,2592e3))}decideVariation(){const e=this,t=100*Math.random();let n=0;this.variations.some(r=>{if(n+=r.traffic,n>t)return e.variation=r,!0})}fireTracking(e,t=null,n=null){const r=this.experimentName+" - "+this.variation.number;window.snowplow&&snowplow("trackStructEvent","Experiment",r,e,t,n)}performActionsForVariations(){document.head.appendChild(this.style)}performActionsForControl(){}initiateExperiment(){const e=console;this.setVariation(),"number"==typeof this.variation.number&&this.variation.name&&(e.info(`Experiment running: ${this.experimentName} on variation ${this.variation.number} ${this.variation.name}.`),this.areConditionsMet()&&(0===this.variation.number?this.performActionsForControl():this.performActionsForVariations(),this.fireTracking("ExperimentImpression")))}},window.addExperiment=function(e,t,n,r){class i extends window.ExperimentScript{constructor(){super(e,t,n)}}r.forEach(e=>{"string"==typeof e.name&&"function"==typeof e.code&&(i.prototype[e.name]=e.code)}),new i})}()},327:function(e,t,n){"use strict";var r,i=n(15),a=n(17),o=n(14),s=(r=n(60))&&r.__esModule?r:{default:r};class c{constructor(){i.UrlHandler.isSearchPage()||(this.tuitionSettingsController=new a.TuitionSettingsController(Loot.DataStorage,s.default),this.autoCompleteController=new o.AutoCompleteControllerGeneric(Loot.DataStorage))}}void 0===window.StudyPortals?window.StudyPortals={main:new c}:window.StudyPortals.main=new c},328:function(e,t,n){"use strict";var r=n(109);const i=new URL(window.location),a=window.Loot.DataStorage;document.addEventListener("DOMContentLoaded",()=>{o()&&s(),(0,r.localStorageDataInitialized)()&&(0,r.addRenewTimestampListeners)()});const o=()=>i.toString().toLowerCase().includes("utm_source=times_higher_education"),s=()=>{a.init();const e={utm_source:{url:i.toString(),source:r.THE_REFERRER}};a.store(r.SP_TIMES_HIGHER_EDUCATION,e,r.SESSION_TTL)}},329:function(e,t,n){"use strict";var r=a(n(12)),i=a(n(60));function a(e){return e&&e.__esModule?e:{default:e}}class o{static init(){"function"!=typeof snowplow?document.addEventListener("snowplow_available",()=>{snowplow(()=>{o.run()})}):snowplow(()=>{o.run()})}static run(){if(this.trackerGlobalNameSpaceName="DataTracker","object"==typeof window[this.trackerGlobalNameSpaceName])return!0;const e=this.collectorEndpoint(r.default.snowplow.collectorSubdomain,window.location.hostname);if(e){this.initializeNewTracker(e);try{this.setStudentId(0)}catch(e){snowplow("trackError",e.message+" (Snowplow.js/setStudentId)","Snowplow.js",null,null,e)}this.customUrls(),this.setUpLinkTracking(),snowplow("enableErrorTracking",null,this.contextAdder.bind(this));try{snowplow("enableActivityTracking",20,20)}catch(e){snowplow("trackError",e.message+" (Snowplow.js/enableActivityTracking)","Snowplow.js",null,null,e)}try{snowplow("trackPageView")}catch(e){snowplow("trackError",e.message+" (Snowplow.js/trackPageView)","Snowplow.js",null,null,e)}this.setupDataTrackingApi(),this.form(),document.addEventListener("click",this.trackClickableDiv),this.portallog(),this.ga(),this.search(),this.hotjar(),this.buttonClick(),this.loadedTrackers(),this.enrichedLinkClicks(),this.adblocker()}}static setupDataTrackingApi(){const e={trackStructEvent:this.trackStructEvent.bind(this)};window[this.trackerGlobalNameSpaceName]=e;const t=new CustomEvent("DataTrackerReady",{bubbles:!0,cancelable:!1,details:{tracker:e}});document.dispatchEvent(t)}static setUpLinkTracking(){try{snowplow("enableLinkClickTracking",null,!0,null)}catch(e){snowplow("trackError",e.message+" (Snowplow.js/enableLinkClickTracking)","Snowplow.js",null,null,e)}setTimeout((function(){try{snowplow("refreshLinkClickTracking")}catch(e){snowplow("trackError",e.message+" (Snowplow.js/refreshLinkClickTracking)","Snowplow.js",null,null,e)}}),1e3)}static initializeNewTracker(e){snowplow("newTracker","cf7_1.11.0",e,{appId:r.default.snowplow.app_id,platform:"web",cookieDomain:null,discoverRootDomain:!0,encodeBase64:!1,respectDoNotTrack:!1,userFingerprint:!0,userFingerprintSeed:6385926734,sessionCookieTimeout:3600,post:!0,postPath:"/com.studyportals/v1",maxPostBytes:5e3,contexts:{webPage:!0,performanceTiming:!0,gaCookies:!0,geolocation:!1},crossDomainLinker:this.decorateLink})}static decorateLink(e){const t=new URL(e.href).hostname;return window.location.hostname!==t&&(new RegExp("\\w{3,}\\.\\w+portal\\.(com|fyi)$").test(t)||["sl.prtl.co","sl.ing.prtl.co"].includes(t))}static collectorEndpoint(e,t){const n=t.split(".").reverse(),r=n[1],i=n[0];if(r&&r.endsWith("portal")&&["com","fyi"].includes(i))return`${e}.${r}.${i}`}static customUrls(){let e;try{window.sessionStorage&&(e=sessionStorage.getItem("previousURL")),!e&&window.localStorage&&(e=localStorage.getItem("previousURL"))}catch(e){this.handleLocalStorageError(e.message,"previousURL")}try{e||(e=this.getDocReferrer()),e&&snowplow("setReferrerUrl",e)}catch(e){snowplow("trackError",e.message+" (Snowplow.js/setReferrerUrl)","Snowplow.js",null,null,e)}this.storeURL(),window.onhashchange=this.storeURL.bind(this)}static setStudentId(e){if(0===e){try{if(window.localStorage){const e=localStorage.getItem("sp_uid");"string"==typeof e&&snowplow("setUserId",e)}}catch(e){this.handleLocalStorageError(e.message,"sp_uid")}e=1}else e+=1;if(e>1&&snowplow("trackStructEvent","BigData","get_identity_id","attempt",null,e),"object"==typeof AuthController)AuthController.subscribe(this.authControllerSubscriptionHandler.bind(this));else{const t=Math.pow(e,4);window.setTimeout(this.setStudentId.bind(this),t,e)}}static handleIdentitySuccess(e){snowplow("setUserId",e);try{window.localStorage&&localStorage.setItem("sp_uid",e)}catch(e){this.handleLocalStorageError(e.message,"sp_uid")}}static handleLocalStorageError(e,t){snowplow("trackStructEvent","BigData","InitializeJSTracker","Storage error",`${e} (set ${t} item)`)}static handleIdentityError(e){snowplow("trackError",e.message+" (Snowplow.js/handleIdentityError)","Snowplow.js",null,null,e)}static authControllerSubscriptionHandler(e,t){e?snowplow("trackError",e.message+" (Snowplow.js/authControllerSubscriptionHandler)","Snowplow.js",null,null,e):!0===t.LoggedInStatus?AuthController.getIdentityId().then(this.handleIdentitySuccess.bind(this)).catch(this.handleIdentityError.bind(this)):this.unsetID()}static unsetID(){snowplow("setUserId","");try{window.localStorage&&localStorage.removeItem("sp_uid")}catch(e){this.handleLocalStorageError(e.message,"sp_uid")}}static shortEncoder(e){if(e.length>255){for(e=(e=decodeURIComponent(e)).slice(0,246);encodeURI(e).length>246;)e=e.slice(0,-1);e+="…",e=encodeURI(e)}return e}static getDocReferrer(){let e;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(t){e=""}}return""===e&&(e=document.referrer),e}static storeURL(){try{const e=this.ensureValidFragmentAndQueryOrder(window.location.href);let t=this.encodeOnce(e);if(t){t=this.shortEncoder(t),snowplow("setCustomUrl",t);try{window.sessionStorage&&window.localStorage&&[sessionStorage,localStorage].forEach((function(e){e.setItem("previousURL",t)}))}catch(e){}}}catch(e){snowplow("trackError",e.message+" (Snowplow.js/storeURL)","Snowplow.js",null,null,e)}}static ensureValidFragmentAndQueryOrder(e){const t=new URL(e);return this.hashHasQuery(t.hash)?this.swapFragmentAndQuery(t):e}static hashHasQuery(e){return-1!==e.indexOf("?")}static swapFragmentAndQuery(e){const t=e.hash.split("?");return e.hash=t[0],e.search="?"+t[1],e.toString()}static encodeOnce(e){return e=decodeURIComponent(e),encodeURI(e)}static contextAdder(e){try{return e.target&&e.target.src?[{schema:"iglu:com.studyportals/application_error_custom_context/jsonschema/1-0-4",data:{scriptSource:e.target.src}}]:[]}catch(e){snowplow("trackError",e.message+" (Snowplow.js/errorEventContextAdder)","Snowplow.js",null,null,e)}}static trackStructEvent(e,t,n,r,i){snowplow("trackStructEvent",e,t,n,r,i);const a={category:e,action:t,label:n,property:r,value:i};snowplow("trackStructEvent","BigData","custom_function","trackStructEvent",JSON.stringify(a))}static form(){snowplow("enableFormTracking",{forms:{blacklist:[]},fields:{blacklist:["password"]}})}static trackClickableDiv(e){if(e.target.hasAttribute("data-clickable")){const t=e.target.querySelector("a"),n=t.getAttribute("href");snowplow("trackLinkClick",n,t.id,Array.from(t.classList),"",t.textContent)}}static portallog(){const e="_portallog_snplw_tracker_initiated";if(window[e])return!1;window[e]=!0,this.trackedFactStore=[],this.registerPortalLogTracker()}static trackPortalLogEventHelper(e){if(void 0===e)return!0;"string"==typeof e&&(e=JSON.parse(e));for(let t=0;t<e.length;t++)void 0===e[t].lo&&(e[t].lo=null);const t=i.default.getTrackData();return null!==t&&!(JSON.stringify(this.trackedFactStore).indexOf(JSON.stringify(e))>-1)&&(this.trackedFactStore.push(e),void snowplow("trackUnstructEvent",{schema:"iglu:com.studyportals/portallog/jsonschema/1-0-8",data:{facts:e,last_search:t.search}}))}static registerPortalLogTracker(){if(window.addEventListener("factsSent",e=>{this.trackPortalLogEventHelper(e.detail)}),"object"==typeof i.default.factsHistory)for(let e=0;e<i.default.factsHistory.length;e++){const t=JSON.parse(i.default.factsHistory[e]),n=this.formatFact(t);this.trackPortalLogEventHelper(n)}}static formatFact(e){return e.f.map(t=>{const n=t;return n.lo=e.l,n})}static ga(){const e="_ga_snplw_tracker_initiated";if(window[e])return!1;window[e]=!0;const t=document.querySelectorAll("[data-ga-tracking]");for(let e=t.length-1;e>=0;e--)t[e].addEventListener("click",this.gaTrack.bind(this))}static gaTrack(e){let t=(e=e.target).getAttribute("data-ga-tracking")||this.getClosest(e,"[data-ga-tracking]").getAttribute("data-ga-tracking");t=JSON.parse(t);const n="string"==typeof t.category?t.category:null,r="string"==typeof t.action?t.action:null,i="string"==typeof t.label?t.label:null,a="string"==typeof t.property?t.property:null;let o="string"==typeof t.value?t.value:null;isNaN(o)&&(o=null),snowplow("trackStructEvent",n,r,i,a,o)}static getClosest(e,t){for(;e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}static search(){if(window.propName)return!1;window._search_snplw_tracker_initiated=!0,setInterval((function(){snowplow("refreshLinkClickTracking")}),500);const e=this;document.addEventListener("search_complete",(function(t){e.trackSearchComplete(t)})),document.addEventListener("url_change",(function(e){try{snowplow("trackStructEvent","search","init",e.detail.searchRequest.urlHash,"","")}catch(e){snowplow("trackError",e.message,"Snowplow.js",null,null,e)}}));try{const t=StudyPortals.Search.searchController.searchRequest,n=StudyPortals.Search.searchController.searchRequest.currentRequest,r=t.urlHash;snowplow("trackStructEvent","search","init",r,"",""),n.then((function(t){e.trackSearchComplete(t)}))}catch(e){}}static trackSearchComplete(e){try{const t="string"==typeof e.total?e.total:"";snowplow("trackStructEvent","search","complete",e.requestParameters,t,""),snowplow("refreshLinkClickTracking"),setTimeout((function(){snowplow("refreshLinkClickTracking")}),100)}catch(e){snowplow("trackError",e.message,"Snowplow.js",null,null,e)}}static hotjar(){if(window.propName)return!1;window._hotjar_snplw_tracker_initiated=!0,this.alreadyTrackedHotJarQuestions=[],this.overrideSend(XMLHttpRequest.prototype.send)}static processEvent(e){try{for(let t=0;t<=e.answers.length;t++){const n=e.answers[t];this.alreadyTrackedHotJarQuestions.indexOf(n.question)>-1||(snowplow("trackStructEvent","hotjar","user_answer",n.question.substring(0,256),n.answer),this.alreadyTrackedHotJarQuestions.push(n.question))}}catch(e){return!1}}static overrideSend(e){const t=this;XMLHttpRequest.prototype.send=function(n){try{const e=JSON.parse(n);void 0!==e.action&&("create_poll_response"!==e.action&&"update_poll_response"!==e.action||t.processEvent(JSON.parse(e.response_content)))}catch(e){}e.call(this,n)}}static buttonClick(){const e="_btn_click_snplw_tracker_initiated";window[e]||(window[e]=!0,document.addEventListener("click",this.trackButtonClick))}static trackButtonClick(e){let t=null,n=null;if("BUTTON"===e.target.tagName?(t=e.target,n=e.target.getAttribute("data-id")):null!==e.target.parentNode&&"BUTTON"===e.target.parentNode.tagName&&(t=e.target.parentNode,n=e.target.parentNode.getAttribute("data-id")),null!==t){const e={elementClasses:t.className,elementId:t.id,attrDataId:n,innerText:t.innerText};snowplow("trackUnstructEvent",{schema:"iglu:com.studyportals/button_click/jsonschema/1-0-1",data:e})}}static loadedTrackers(){const e="_loaded_trackers_snplw_tracker_initiated";window[e]||(window[e]=!0,window.addEventListener("load",this.detectTrackers,!1))}static detectTrackers(){const e={schema:"iglu:com.studyportals/loaded_trackers/jsonschema/1-0-0",data:{ga:"function"==typeof window.ga&&!0===window.ga.loaded,gtm:"object"==typeof window.google_tag_manager,hj:"function"==typeof window.hj&&!0===window.hj.scriptLoaded,mxpnl:"object"==typeof window.mixpanel&&!0===window.mixpanel.__loaded}};window.snowplow("trackUnstructEvent",e)}static enrichedLinkClicks(){const e="_enr_link_click_snplw_tracker_initiated";window[e]||(window[e]=!0,document.addEventListener("click",this.trackLinkClick))}static getLinkParentWithDiv(e){for(let t=0;t<10;t++){if("DIV"===e.tagName&&e.className)return e;e=e.parentNode}}static trackLinkClick(e){const t=e.button,n=o.listPressedKeys(e),r=e.target,i=o.ensureLink(r),a=i.linkClick;let s=i.linkParent;if(!a)return;s&&(s=o.getLinkParentWithDiv(s));const c=o.getExistingAttribute(a,"data-ga-tracking").replace(/[^(\w:|,)]/g,""),u={class:o.getExistingAttribute(a,"class"),parentClass:o.getExistingAttribute(s,"class"),href:o.getExistingAttribute(a,"href"),title:o.getExistingAttribute(a,"title"),target:o.getExistingAttribute(a,"target"),gaTracking:c,mouseButton:t,keysPressed:n};snowplow("trackUnstructEvent",{schema:"iglu:com.studyportals/enriched_link_click/jsonschema/1-0-0",data:u})}static listPressedKeys(e){const t={ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey};return Object.keys(t).filter((function(e){return t[e]})).toString()}static getExistingAttribute(e,t){return e&&e.hasAttribute(t)?e.getAttribute(t):""}static ensureLink(e){let t=null,n=null;for(let r=0;r<10;r++){if("A"===e.tagName){t=e,n=e.parentNode;break}if(null===e.parentNode)break;e=e.parentNode}return{linkClick:t,linkParent:n}}static adblocker(){const e="_adblock_snplw_tracker_initiated";window[e]||(window[e]=!0,window.addEventListener("load",this.detectAdblocker,!1))}static detectAdblocker(){const e=o.AdBlockEnabled();snowplow("trackStructEvent","Browser","Adblocker",e,"tracker version=1.0.0")}static AdBlockEnabled(){const e=document.createElement("ins");e.className="AdSense",e.style.display="block",e.style.position="absolute",e.style.top="-1px",e.style.height="1px",document.body.appendChild(e);let t="Unblocked";return!e.clientHeight&&(t="Blocked"),document.body.removeChild(e),t}}o.init()},330:function(e,t,n){"use strict";({init(){this.ModulesToShow=this._findModulesToShow(),this.ModulesToHide=this._findModulesToHide(),this._subscribeActionsToLogin()},_findModulesToShow:()=>document.getElementsByClassName("ShowOnLogin"),_findModulesToHide:()=>document.getElementsByClassName("HideOnLogin"),_hideModule(e){e.classList.add("Hidden")},_showModule(e){e.classList.remove("Hidden")},_processModules(e,t){for(let t=0;t<e.length;t++)this._showModule(e[t]);for(let e=0;e<t.length;e++)this._hideModule(t[e])},_subscribeActionsToLogin(){void 0!==window.AuthController&&AuthController.subscribe((e,t)=>{t.LoggedInStatus&&this._processModules(this.ModulesToShow,this.ModulesToHide)})}}).init()},331:function(e,t,n){"use strict";var r=a(n(0)),i=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}window.userLocation=new class{constructor(){this.hasAccountNationality=!1,this.countryId=0,this.setAccountNationality(),EventAggregationService.subscribeToSessionCreatedEvent({notify:()=>this.setAccountNationality()})}setCountry(e,t){["LocationSwitcher","Account"].includes(t)&&(this.countryId=e,this.updateCookie(e,t),this.sendTracking(e,t))}sendTracking(e,t){r.default.addFunctionToPipelineTracker(n=>{n.trackStructEvent("location_changed",t,e)})}setAccountNationality(){void 0!==window.AnonymousStudent&&AnonymousStudent.getStudentData(["nationality_country_id"]).then(e=>{e.nationality_country_id&&(this.hasAccountNationality=!0,this.setCountry(e.nationality_country_id,"Account"))}).catch(()=>{})}updateCookie(e,t){this.hasAccountNationality&&"LocationSwitcher"===t||i.default.setItem("user_nationality_id",e,1/0,"/")}},document.dispatchEvent(new Event("user_location_ready"))},332:function(e,t,n){"use strict";!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.config=t}return r(e,[{key:"track",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.url=e._getUri(),this.config.tags=this.config.tags||[];var r=this._cleanCombineTwoArrays(t.tags,this.config.tags);if(t=Object.assign(t,this.config),r.length>0&&(t.tags=r),n)return this._sendRequest(e._getRequestOptions(t),n);this._sendRequest(e._getRequestOptions(t),n)}},{key:"addConstantTag",value:function(e){if("string"==typeof e){var t=!1;this.config.tags=this.config.tags||[],this.config.tags.map((function(n){n.toLowerCase()===e.toLowerCase()&&(t=!0)})),t||this.config.tags.push(e)}}},{key:"_cleanCombineTwoArrays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.concat(t);return n.filter((function(e,t){return n.indexOf(e)===t}))}},{key:"_sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var i=new XMLHttpRequest;t&&(i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?n(JSON.parse(i.responseText)):r(JSON.parse(i.responseText)))}),i.open(e.method,e.url),i.setRequestHeader("Content-Type","application/json"),i.send(e.body)}))}}],[{key:"_getUri",value:function(){return window.location.toString()}},{key:"_getRequestOptions",value:function(e){return{url:"https://c6coiy9r7a.execute-api.eu-west-1.amazonaws.com/prd/events",method:"PUT",body:JSON.stringify(e)}}}]),e}();t.default=i,window.SPTracker=i}])},333:function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(61);const o=!0===i.default.live?"prd":"tst",s=new window.SPTracker({environment:o,team:"spc",product:"Study",category:"PremiumClick"});(new class{constructor(){this.elements=[],document.addEventListener("premium_click_tracker_update_listeners",()=>this.attachEventListeners())}attachEventListeners(){document.querySelectorAll(".TrackingExternalLink").forEach(e=>{this.elements.includes(e)||(this.elements.push(e),e.addEventListener("click",(function(e){let t=e.target.className.split(" ");if(e.target.dataset.gaTracking){const n=JSON.parse(e.target.dataset.gaTracking);t.push(n.value)}a.PortalType&&t.push(a.PortalType.getCurrentPortal()),s.track({tags:t,action:"Click",label:"ReferrerButton"})})))})}}).attachEventListeners()},334:function(e,t,n){"use strict";var r=n(109);document.addEventListener("openWishlistDrawer",()=>{(0,r.localStorageDataNotValid)()||i()});const i=()=>{const e=document.getElementsByClassName("StudyLink TrackingExternalLink");for(let t=0;t<e.length;t++)e[t].addEventListener("pointerdown",r.calculateTrackingUrl)}},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));class r{constructor(){}subscribeToLoginEvent(){window.AuthController.subscribe((e,t)=>{null===e&&t.LoggedInStatus&&this.registerUser()})}registerUser(){this.fetchEmail().then(e=>{document.dispatchEvent(new CustomEvent("DotmailerStudentRegistered",{detail:{email:e}}))}).catch(e=>{})}fetchEmail(){return new Promise((e,t)=>{void 0===window.AnonymousStudent&&t("AnonymousStudent object not available!"),window.AnonymousStudent.getStudentData(["email"]).then(t=>{e(t.email)}).catch(e=>{t(e)})})}}class i{constructor(){}getInformationFromId(e,t){const n=this._getDataSetFromElement(e),r=Object.assign({},n);return this._getDotmailerDataFromObject(r,t)}_getDotmailerDataFromObject(e,t){let n={};for(let[r,i]of Object.entries(e)){let e=this._isDotmailerDataset(r);e&&(e=t+e,n[e]=i)}return n}_getDataSetFromElement(e){const t=document.getElementById(e);return t?t.dataset:""}_isDotmailerDataset(e){return"dotmailer"===e.substring(0,9)&&e.substring(9)}}class a{constructor(){}currentPage(){return this._isStudyPage()?"study":this._isStudyOptionsPage()?"studyOptions":void 0}_isStudyPage(){return 0===new URL(window.location).pathname.indexOf("/studies/")}_isStudyOptionsPage(){return 0===new URL(window.location).pathname.indexOf("/study-options/")}}class o{constructor(){this.tracker=window.dmPt,this.studentHelper=new r,this.datasetExtractor=new i,this.pageIdentifier=new a}init(){this.identifyUserInDotmailerOnRegister(),this.trackPageView()}identifyUserInDotmailerOnRegister(){document.addEventListener("DotmailerStudentRegistered",e=>{const t=e.detail.email;this.tracker("identify",t)}),this.studentHelper.subscribeToLoginEvent()}trackPageView(){switch(this.pageIdentifier.currentPage()){case"study":this.trackStudyPageDetails();break;case"studyOptions":this.trackStudyOptionsPageDetails();break;default:this.tracker("track")}}trackStudyPageDetails(){if(void 0!==window.dotmailerTrackingObject)return void this.tracker("track",window.dotmailerTrackingObject);const e=this.datasetExtractor.getInformationFromId("StudyHeader","study"),t=this.datasetExtractor.getInformationFromId("StudyHeaderDescription","organisation"),n=Object.assign(e,t);0!==Object.keys(n).length&&this.tracker("track",Object.assign(e,t))}trackStudyOptionsPageDetails(){const e=this.datasetExtractor.getInformationFromId("HeaderContentWrapper","studyOptions");this.tracker("track",e)}}},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Suggestion=void 0,t.Suggestion=class{constructor(e,t,n,r,i,a){this.title=e,this.type=t,this.paramName=n,this.id=r,this.isExactMatch=i,this.position=a}render(){const e=document.createElement("li");return e.innerText=this.title,e.className="Suggestion Link",e.dataset.position=this.position,e.dataset.paramValue=this.id,e.dataset.paramName=this.paramName,e}}},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoComplete=void 0;var r=s(n(2)),i=n(10),a=s(n(12)),o=n(5);function s(e){return e&&e.__esModule?e:{default:e}}class c{constructor(e,t,n=null){this.inputValues={id:null,name:null,keyword:""},this._index=t,this._inputField=e,this.originalValue="",this.interaction="",this._focusableElements=[],this._focusPointer=-1,this._suggestions=[],this._maxResults=4,this._container=document.createElement("div"),this._container.className="AutoCompleteContainer",this._container.innerHTML='<ul class="AutoComplete"></ul>',this._inputField.parentNode.appendChild(this._container);const r=this._inputField.closest("form");this._formID=r.id,this._button=r.querySelector("button[type=submit]"),this.suggestType=e.dataset.type,this.suggestType||(this.suggestType="all"),this.searchParameters=defaultSearchParameters,null!==n&&(this.searchParameters=n.getQParameters()),document.addEventListener("url_change",e=>{this.searchParameters=e.detail.searchRequest.getQParameters()}),document.addEventListener("search_complete",()=>{this._inputField.value=""})}get index(){return this._index}get submitButton(){return this._button}get formID(){return this._formID}get inputValue(){return this._inputField.value}set inputValue(e){const{selectionStart:t,selectionEnd:n}=this._inputField;this._inputField.value=e,this._inputField.selectionStart=t,this._inputField.selectionEnd=n}suggest(e=(()=>{})){this.moveSelectedTo(-1);const t=this._inputField.value;if(""===t)this.hide(),e([]);else if(this._suggestions=[],t.length>0){this.searchParameters.degrees&&delete this.searchParameters.degrees;const n={type:this.suggestType,keyword:encodeURIComponent(t),context:r.default.alias(this.searchParameters)};this._doRequest(n,e)}}show(){this.moveSelectedTo(-1),this._container.classList.remove("Hidden")}hide(){this.moveSelectedTo(-1),this._container.classList.add("Hidden")}focus(){const{selectionStart:e,selectionEnd:t}=this._inputField;this._inputField.focus(),this._inputField.selectionStart=e,this._inputField.selectionEnd=t}blur(){this._inputField.blur(),this._inputField.selectionStart=this._inputField.value.length,this._inputField.selectionEnd=this._inputField.value.length}copySelectionText(){this.originalValue=this._inputField.value;const e=this._container.getElementsByClassName("Selected");e.length>0&&(this.inputValue=e[0].innerText)}setSelectedValue(){const e=this._container.getElementsByClassName("Selected");if(e.length>0){const t=e[0];this.selectedValue={id:parseInt(t.dataset.paramValue,10),name:t.dataset.paramName,position:parseInt(t.dataset.position,10)+1,title:t.innerText}}else this.selectedValue=null}get selectedPosition(){return this.selectedValue?this.selectedValue.position.toString():""}get matchedValue(){return this.selectedValue?`${this.selectedValue.name}-${this.selectedValue.id}`:""}moveSelectedTo(e){if("number"==typeof e){if(-1===e)Array.from(this._container.getElementsByClassName("Selected")).forEach(e=>{e.classList.remove("Selected")});else{if(!(this._focusableElements.length>0))return void this.moveSelectedTo(-1);if(!this._focusableElements[e])return;Array.from(this._container.getElementsByClassName("Selected")).forEach(e=>{e.classList.remove("Selected")}),this._focusableElements[e].classList.add("Selected")}this._focusPointer=e}}moveSelectedUp(){this.moveSelectedTo(this._focusPointer-1)}moveSelectedDown(){this.moveSelectedTo(this._focusPointer+1)}addEventListener(e,t){this._inputField.addEventListener(e,t)}onSelectionChange(e){this._inputField.addEventListener("selectionChange",e)}updateSelectedFilter(e){if(this.selectedValue)return this.setFilterValuesFromCurrentSelection(),void e();this.suggest(t=>{let n=null;if(t.some(e=>{if(e.isExactMatch)return n=e,!0}),null!==n)return this.setFilterValues(n),void e();this.setKeywordValues(),this.hide(),e()})}setKeywordValues(){this.inputValues.id=null,this.inputValues.name=null,this.inputValues.keyword=this._inputField.value,this.inputValues.title=this.inputValues.keyword}setFilterValues(e){this.inputValues.id=e.id,this.inputValues.name=e.paramName,this.inputValues.title=e.title,this.inputValues.keyword=""}setFilterValuesFromCurrentSelection(){this.inputValues.id=this.selectedValue.id,this.inputValues.name=this.selectedValue.name,this.inputValues.title=this.selectedValue.title,this.inputValues.keyword=""}_render(){if(0===this._suggestions.length)return;let e=this._container.getElementsByTagName("ul")[0];const t=Array.from(e.getElementsByClassName("Suggestion"));if(Array.from(e.getElementsByClassName("AutoCompleteHeading")).forEach(e=>{e.remove()}),this._suggestions.splice(this._maxResults),this._sortSuggestionsByType(),this._suggestions.forEach((n,r)=>{const i=n.render();i.addEventListener("mousedown",()=>{this.interaction="click",this.moveSelectedTo(r),this._inputField.dispatchEvent(new Event("selectionChange"))}),i.addEventListener("mouseover",()=>{this.moveSelectedTo(r)});const a=Array.from(e.getElementsByClassName("Suggestion"));e=c._addHeadings(e,n,r,a),r<t.length?t[r].parentNode.replaceChild(i,t[r]):e.appendChild(i)}),0!==t.length&&t.length>this._suggestions.length){const n=Array.from(e.getElementsByClassName("Suggestion"));for(let e=t.length-1;e>=this._suggestions.length;e--)n[e].remove()}this._focusableElements=Array.from(this._container.getElementsByClassName("Suggestion")),document.activeElement===this._inputField&&this.show()}_sortSuggestionsByType(){const e=[...new Set(this._suggestions.map(e=>e.type))],t=[];e.forEach(e=>{const n=this._suggestions.filter(t=>t.type===e);t.push(...n)}),this._suggestions=t}static _addHeadings(e,t,n,r){const i=t.type;if(!e.querySelector(".AutoCompleteHeading."+i)){const t=document.createElement("li");t.innerText=i,t.className="AutoCompleteHeading "+i,0===n?e.insertBefore(t,r[0]):e.insertBefore(t,r[n])}return e}static _getParamName(e,t){let n="";switch(e){case"specialisation":case"discipline":n="discipline_ids";break;case"country":n="country_ids";break;case"organisation":if(t<=0)break;n="organisation_ids";break;case"continent":n="region_ids"}return n}_requestSuccess(e,t){const n=[];e.forEach((e,t)=>{const r=c._getParamName(e.type,e.count);if(!r)return;const i=new o.Suggestion(e.name,e.type,r,e.id,e.is_exact_match,t);n.push(i)}),0!==n.length?(this._suggestions=n,this._render(),this.setAutoCompleteWidth(),""===this.inputValue&&this.hide(),t(n)):t([])}_doRequest(e,t){if(!e||!e.keyword)return void t();let n=[],r=a.default.autoCompleteURL+"?";Object.keys(e).forEach(t=>{n.push(`${t}=${e[t]}`)}),r+=n.join("&");const o={method:"get",url:r,mode:"cors"};i.FetchQueue.addRequest(o.url,o).then(e=>{if(e.ok)return e.json()}).then(e=>{this._requestSuccess(e,t)}).catch(()=>{this._requestSuccess([],t)})}setAutoCompleteWidth(){this._container.style.width=this._inputField.getBoundingClientRect().width+"px"}}t.AutoComplete=c},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(11))&&r.__esModule?r:{default:r},a=n(63),o={location:null,actions:["impr","view","clic","subm"],reload:!1,factsHistory:[],previousPage:"",collect:function(){document.querySelector(".TrackingSearchValue")&&this.saveSearchData();var e=[];Array.from(document.getElementsByClassName("TrackingEvent")).forEach(t=>{if(!this.reload||t.classList.contains("TrackingRetrigger")){var n=this.gather(t);n&&-1===e.indexOf(n)&&e.push(n)}}),e.length>0&&this.send(e),window.dispatchEvent(new CustomEvent("trackingready"))},trackExternalLinks:function(e){e||(e=document.querySelectorAll("a.TrackingExternalLink"));const t=o.getTrackData(),n=this.getIds();Array.from(e).forEach(e=>{this.setUpLink(e,t.tap_groups,n)})},setUpLink:function(e,t,n){if("A"!==e.tagName||!e.classList.contains("TrackingExternalLink"))return;var r=this.renderData([this.gather(e)]);r=JSON.stringify(r),void 0!==Loot.cryptoJSEncBase64&&(r=Loot.cryptoJSEncBase64.stringify(Loot.cryptoJSEncUtf8.parse(r)));var i=e.getAttribute("href");-1!==i.indexOf("%23%23timestamp%23%23")&&(i=i.replace("%23%23timestamp%23%23",Math.round((new Date).getTime()/1e3)));const a=new URL(i),o=Object.assign({facts:r,taps:t},n);for(let e in o)a.searchParams.set(e,o[e]);e.setAttribute("href",a.toString())},getLocation:function(){if(!this.location){const e=document.querySelector(".TrackingLocation");this.location=this.gatherLocation(e)}return this.location},gatherLocation:function(e){var t={t:"other",i:null,d:null,l:null};if(e){var n=e.getAttribute("data-type"),r=e.getAttribute("data-id"),i=e.getAttribute("data-description"),a=e.getAttribute("data-label");if(!n||0==n.length)return t;t={t:n,i:r,d:i,l:a}}return t},gather:function(e,t){if(t=t||"TrackingEvent",e){var n=e.getAttribute("data-action"),r=e.getAttribute("data-type"),i=e.getAttribute("data-id"),a=e.getAttribute("data-description"),o=e.getAttribute("data-label");if(-1===this.actions.indexOf(n))return null;if(!r||!i)return null;var s={a:n,t:r,i:i,d:a,l:o};try{var c=e.getAttribute("data-extra");(c=c?JSON.parse(c):null)&&Object.keys(c).length>0&&(s.ex=c)}catch(e){}var u=e.closest(".TrackingLinkedList");const m=this.getLocation();if(e.classList.contains("TrackingNoLocation"))s.lo=null;else if(u&&u.getAttribute("data-list-type")==r){var l=0;u.getAttribute("data-start")&&(l=parseInt(u.getAttribute("data-start")),(isNaN(l)||l<0)&&(l=0)),s.lo=this.gatherLocation(u),Array.from(u.querySelectorAll(`.${t}[data-type=${r}]`)).forEach((function(e,t){e.getAttribute("data-id")==i&&(s.lo.i=l+t+1)}))}else if(e.hasAttribute("data-location")){var d=e.getAttribute("data-location"),h=document.getElementById(d);if(!h||!h.classList.contains("TrackingCustomLocation"))return s;s.lo=this.gatherLocation(h)}else m&&s.i==m.i&&s.t==m.t&&"view"==s.a&&(s.lo=null);return s}return null},saveSearchData:function(){var e=document.querySelector(".TrackingSearchValue");if(e&&e.getAttribute("data-search").length>0){var t=o.getTrackData();if(null===t)return;t.search=e.dataset.search,o.setCookie(t)}},send:function(e,t){var n=this.renderData(e);if(null===(n=JSON.stringify(n)))return null;var r=o.getTrackData();if(null===r)return null;var i=r.tap_groups,s="Netscape"===navigator.appName&&window.navigator.msPointerEnabled;if(this.factsHistory.push(n),s||!("withCredentials"in new XMLHttpRequest)&&"undefined"==typeof XDomainRequest){void 0!==Loot.cryptoJSEncBase64&&(n=Loot.cryptoJSEncBase64.stringify(Loot.cryptoJSEncUtf8.parse(n)));const e={facts:n,taps:i},t=Object.keys(e).map((function(t){return`${t}=${e[t]}`})).join("&");Async.image(`${Meta.sl_external_url}track/pixel/?${t}`)}else{var c=new Headers;c.append("content-type","application/x-www-form-urlencoded; charset=UTF-8");var u=Meta.sl_external_url+"track/facts/";fetch(u,{method:"post",mode:"cors",credentials:"include",headers:c,body:a.ServiceLayerClient.parseBody({facts:n,taps:i})}).then(()=>{t&&"function"==typeof t&&t()}).catch(e=>{})}window.dispatchEvent(new CustomEvent("factsSent",{detail:e}))},sendSet:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=this.gather(i,t);null!==a&&n.push(a)}this.send(n)},renderData:function(e){var t={};t.l=this.getLocation();var n=o.getTrackData();if(null==n)return null;t.s=n.search;let r={};return r.i=n.ip,r.s=n.uuid,r.l=n.lang,r.c=this.getNationalityCookie(),t.u=r,t.f=e,t},getTrackData:function(){return JSON.parse(i.default.getItem("StudyPortals-trck"))},getNationalityCookie:function(){const e=i.default.getItem("user_nationality_id");return e?this.getNationalityIso(e):null},getNationalityIso:function(e){return"undefined"==typeof Loot||void 0===Loot.Countries[e]?null:Loot.Countries[e].iso_code.toLowerCase()},checkReloadState:function(){var e=window.location.toString(),t=o.getTrackData();null!==t&&(t.previousPage&&t.previousPage==e?this.reload=!0:this.reload=!1)},getCountryId:function(){const e=o.getTrackData();return e&&e.origin?isNaN(e.origin)||null===e.origin?0:parseInt(e.origin):0},getIds:function(){if(!window.snowplow)return{};let e=[];if(window.snowplow((function(){e=Object.values(this)})),0===e.length)return{};const t=e[0],n=t.getDomainUserInfo();if(n.length<7)return{};const r={duid:n[1],sid:n[6]},i=t.getUserId();return i&&(r.uid=i),r},resetPreviousPage(){const e=window.name,t=this.getTrackData();if(!t)return;const n=this.getHostName(document.referrer),r=this.getHostName(t.previousPage),i=n&&-1!==r.indexOf(n);window.name="studyportals",i||"studyportals"===e||(t.previousPage="",o.setCookie(t)),i&&"studyportals"!==e&&(t.previousPage=document.referrer,o.setCookie(t)),this.previousPage=t.previousPage},getHostName(e){if(!e)return"";const t=document.createElement("a");return t.href=e,t.hostname},setCookie(e){i.default.setItem("StudyPortals-trck",JSON.stringify(e),3600,"/")}},s=o;t.default=s},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortalType=void 0;const r={mastersportal:"Master studies",bachelorsportal:"Bachelor studies",distancelearningportal:"Online studies",preparationcoursesportal:"Preparation courses",shortcoursesportal:"Short courses",phdportal:"PhD studies"},i={getCurrentPortal(){const e=document.location.hostname.split(".");return e[e.length-2]},getPortalLabel(){const e=i.getCurrentPortal();return e?r[e]:"studies"}};t.PortalType=i},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceLayerClient=void 0;var r=o(n(0)),i=n(10),a=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}class s{get(e){return e.method="get",e.data=e.extra||{},e.data.include_order=!!e.include_order,this._getToken(e).then(t=>{e.data.token=t,e.params&&(e.data.q=a.default.alias(e.params)),e.data.path=e.path;let n=["X-StudyPortals-Brand","Accept-Language"],r=[];if(e.headers)for(let t=0;t<e.headers.length;t++){const i=e.headers[t];-1===n.indexOf(i.name)?"X-StudyPortals-Tally"===i.name&&(e.data.tally=i.value):r.push(i.value)}return r.length>0&&(e.data.hh=r.join("-")),this._requestSL(e)})}getAll(e){let t,n=0;const r=e.onSuccess.clone();e.onSuccess=(i,a)=>{if(t){const e=t.substring(0,t.length-1),n=i.substring(1,i.length);t=e+", "+n}else t=i;n+=parseInt(a.length,10),a.total>n&&(e.extra.start=n,delete e.retry,this.get(e)),r(t,a)},e.extra=e.extra||{},e.extra.length=0,e.fixed=!0,this.get(e)}post(e){return e.method="post",e.data={},this._getToken(e).then(t=>(e.data.token=t,e.data.params=e.params,e.data.path=e.path,e)).then(this._requestSL)}put(e){return e.method="put",e.data={},this._getToken(e).then(t=>(e.data.token=t,e.data.params=e.params,e.params.name&&(e.data.name=e.params.name),e.data.path=e.path,e)).then(this._requestSL)}remove(e){return e.method="delete",e.data={},this._getToken(e).then(t=>(e.data.token=t,e.data.params=e.params,e.data.path=e.path,e)).then(this._requestSL)}cancel(){}_getToken(e){if(e.token)return Promise.resolve(e.token);const t=e.method+":"+e.path,n=Loot.DataStorage.retrieve(t);return n?Promise.resolve(n):"object"==typeof e.sl_token?s._requestCustomToken(e.sl_token).then(e=>(Loot.DataStorage.store(t,e),e)):!0===e.sentinel?s._requestTokenFromSentinel(e.path).then(e=>(Loot.DataStorage.store(t,e),e)):s._requestReflectorToken(e.path).then(e=>(Loot.DataStorage.store(t,e),e))}static _deleteToken(e){return Loot.DataStorage.remove(e.method+":"+e.path)}static _requestReflectorToken(e){let t=authService.getServiceLayerUrl(),n=`${t}auth/reflector/?url=${t}${e}`;return i.FetchQueue.addRequest(data.url,n).then(e=>e.text())}static _requestCustomToken(e){let t={method:"get",url:authService.getServiceLayerUrl()+e.path};return e.cookies&&(t.credentials="include"),i.FetchQueue.addRequest(t.url,t).then(e=>e.text())}static _requestTokenFromSentinel(e){let t={method:"get",url:r.default.getBaseUrl()+"Sentinel.php?path="+e};return i.FetchQueue.addRequest(t.url,t).then(e=>e.text())}static parseHeaders(e){let t,n={};if(e.has("X-StudyPortals-Limit")){let t=e.get("X-StudyPortals-Limit").split(",");n.start=t[0],n.length=t[1],n.max=t[2]}e.has("X-StudyPortals-Total")&&(n.total=e.get("X-StudyPortals-Total"));try{t=e.entries()}catch(e){t=[]}for(let e=0;e<t.length;e++){let r=t[e],i=r[0].toLowerCase(),a=r[1].toLowerCase();if(-1!==i.indexOf("x-studyportals-tally")&&-1===i.indexOf("vary")&&-1===i.indexOf("access-control-allow-headers")){n.tallies=n.tallies||{};let e=i.split("-")[3];n.tallies[e]=n.tallies[e]||{};let t=JSON.parse(a);for(let r in t)t.hasOwnProperty(r)&&(n.tallies[e][r]=t[r])}}return n}_requestSL(e){isNaN(e.retry)&&(e.retry=0);let t={method:e.method},n=new Headers;n.append("Accept-Language","en-GB"),n.append("X-StudyPortals-Brand","default"),e.headers&&e.headers.forEach(e=>{n.append(e.name,e.value),"cache-control"===e.name&&"no-cache"===e.value&&(t.cache="no-cache")}),t.headers=n;let r=Meta.reflector_url;switch(e.method.toLowerCase()){case"get":const n=encodeURIComponent;r+="?"+Object.keys(e.data).map(t=>n(t)+"="+n(e.data[t])).join("&");break;case"post":case"put":case"delete":t.headers.append("content-type","application/x-www-form-urlencoded; charset=UTF-8"),t.body=s.parseBody(e.data,"")}let a={};return i.FetchQueue.addRequest(r,t).then(e=>{if(e.status>=300)throw e;return a=s.parseHeaders(e.headers),e}).then(e=>e.text()).then(t=>("function"==typeof e.onSuccess&&e.onSuccess(t,a),{body:t,meta:a})).catch(t=>{if(401===t.status&&e.retry<1)return s._deleteToken(e),this._getToken(e).then(t=>(e.data.token=t,e.retry++,this._requestSL(e)));if(503===t.status&&e.retry<3)return e.retry++,new Promise((t,n)=>{setTimeout(()=>{this._requestSL(e).then(t).catch(n)},1e3*e.retry)});throw"function"==typeof e.onFailure&&e.onFailure(t.status,t),t})}static parseBody(e){let t=[];const n=(e,r)=>{for(let i in e){if(!e.hasOwnProperty(i))continue;const a=""===r?encodeURIComponent(i):`[${encodeURIComponent(i)}]`,o=e[i];"object"!=typeof o?t.push(`${r}${a}=${encodeURIComponent(o)}`):n(o,`${r}${a}`)}};return n(e,""),t.join("&")}}t.ServiceLayerClient=s,window.ServiceLayerClient=s},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencySwitcherSearch=t.CurrencySwitcher=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(1);class o{constructor(e){this.currencyWrapper=document.getElementById("CurrencyWrapper"),null!==this.currencyWrapper&&(this.dataStorage=e,this.currencyRatesAvailable=!0,this.rates=null,this.defaultCurrencyISO="EUR",document.addEventListener("answer_user_location_for_tuition",e=>{const t=e.detail.userCountryID,n=o.getDefaultCountryCurrency(t);this._setUserCurrency(n),this._setVisualState()}),EventAggregationService.subscribeTo("anonymous-student-profile-updated",{notify:e=>{this._studentDataChangedHandler(e.changes)}}),document.addEventListener("ask_user_currency_for_search_controller",()=>{document.dispatchEvent(new CustomEvent("answer_user_currency_for_search_controller",{detail:{userCurrency:this.getUserCurrency()}}))}),document.addEventListener("render_complete",()=>{this._setVisualState()}),document.addEventListener("wishlist_tuition_fee_updated",()=>{this._setVisualState()}),document.addEventListener("comparison_loaded",()=>{this._setVisualState()}),document.addEventListener("account_render_complete",()=>{this._setVisualState()}),document.addEventListener("ask_user_currency",()=>{const e=this.getUserCurrency();document.dispatchEvent(new CustomEvent("answer_user_currency",{detail:{userCurrency:e,userCurrencySymbol:e}}))}),this._setUserCurrency(this.getUserCurrency()),this._broadcastUserCurrency(this.userCurrency),this._setVisualState())}_studentDataChangedHandler(e){Object.prototype.hasOwnProperty.call(e,"currency")&&(this._storeUserCurrency(e.currency),this._setVisualState(),this._trackCurrencyChange())}_trackCurrencyChange(){const e={category:"Search",action:"Currency Changed",label:this.userCurrency};i.default.GA.fireTracker(e)}_storeUserCurrency(e){this._setUserCurrency(e)}_setVisualState(){this._setPageCurrencies()}_setPageCurrencies(){if(!1===this.currencyRatesAvailable)return;const e=document.querySelectorAll("abbr[data-currency], [data-currency-rewrite]");Array.from(e).forEach(e=>{this._convertCurrency(e)});const t=document.querySelectorAll("[data-current-currency]");Array.from(t).forEach(e=>{e.dataset.currentCurrency=this.getUserCurrency()});const n=document.querySelectorAll("[data-currency-text]");Array.from(n).forEach(e=>{let t=this.getUserCurrency();this.currencyRatesAvailable||document.querySelectorAll("[data-currency-rewrite]")[0]&&(t=document.querySelectorAll("[data-currency-rewrite]")[0].getAttribute("data-currency")),e.dataset.currencyText=t,e.innerHTML=t})}_convertCurrency(e){if(!(e&&e instanceof HTMLElement))return;let t=this.getUserCurrency();const n=e.dataset.currency,r=e.dataset.amount,a=e.dataset.decimal,s=e.dataset.currencySymbol;let c=1;try{c=this._getExchangeRate(n,t)}catch(t){return void o._setToDefaultTuition(e)}e.hasAttribute("data-original_html")||(e.dataset.original_html=e.innerHTML);let u=r*c;u=Math.round(u);const l=t,d=i.default.formatAsLocalisedCurrency(u,t,l,a,s),h=e.dataset.original_html;e.dataset.converted_amount=u.toString(10),e.innerHTML=d,e.title="Converted from "+h.replace("&nbsp;"," ")}_getExchangeRate(e,t){const n=this._currencyRates;if(e===t)return 1;let r=1,i=1;if("EUR"!==e&&(r=n["EUR"+e],!r))throw new Error("No rate for EUR"+e);if("EUR"!==t&&(i=n["EUR"+t],!i))throw new Error("No rate for EUR"+t);return 1/r*i}getUserCurrency(){if(this.userCurrency)return this.userCurrency;let e=this.getStoredCurrency();return null===e||""===e?(o.askUserCountry(),this.defaultCurrencyISO):e}static getDefaultCountryCurrency(e){switch(e){case a.LocationSwitcher.usaCountryID:return"USD";case a.LocationSwitcher.australiaCountryID:return"AUD";case a.LocationSwitcher.canadaCountryID:return"CAD";case a.LocationSwitcher.ukCountryID:return"GBP";default:return"EUR"}}_setUserCurrency(e){this.userCurrency=e,this.dataStorage.store("currency",e,2592e3),document.dispatchEvent(new CustomEvent("currency_changed",{detail:{userCurrency:this.userCurrency,userCurrencySymbol:e}}))}_broadcastUserCurrency(e){window.userCurrency=e,document.dispatchEvent(new Event("user_currency_ready"))}static _setToDefaultTuition(e){e&&e instanceof Element&&(e.hasAttribute("data-original_html")&&(e.innerHTML=e.dataset.original_html),e.removeAttribute("title"))}get _currencyRates(){if(null!==this.rates&&"object"==typeof this.rates)return this.rates;const e={},t=this.currencyWrapper.getElementsByClassName("currency_rate");let n;for(n in Array.from(t).forEach((function(t){const n=t.dataset.fromto,r=Number(t.dataset.rate);n&&r>0&&(e[n]=r)})),e)if(Object.prototype.hasOwnProperty.call(e,n))break;if(!n)throw Error("No currency rates available");return this.rates=e,this.rates}getStoredCurrency(){let e=this.dataStorage.retrieve("currency");return null===e||""===e?"":e}static askUserCountry(){document.dispatchEvent(new Event("ask_user_location_for_tuition"))}}t.CurrencySwitcher=o,t.CurrencySwitcherSearch=class extends o{constructor(e,t){super(e),this.currencyRatesAvailable=!0,this.searchRequest=t,document.addEventListener("url_change",e=>{this.searchRequest=e.detail.searchRequest,this._setVisualState()})}_setUserCurrency(e){this.searchRequest&&(this.searchRequest.userCurrency=e),super._setUserCurrency(e)}}},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TuitionSettings=void 0;var r=n(16);t.TuitionSettings=class{constructor(){this.module=document.getElementById("TuitionSettings"),this.body=document.body,this.popup=null,this.timeoutList={},this.topoffset=null,this.popupConfig={destroyOnClose:!1,cssClassName:"TuitionSettingsModal",onOpen:()=>{this.topoffset=window.pageYOffset;const e=-1*this.topoffset;this.body.style.top=e+"px",this.body.classList.add("is-notScrollable"),document.dispatchEvent(new CustomEvent("profile_questionnaires_initialize",{detail:{identifier:"localization_settings"}}))},onClose:()=>{this.body.classList.remove("is-notScrollable"),this.body.style.top="auto",window.scroll(0,this.topoffset)}},document.addEventListener("tuition_popup_rebind",()=>{this.bindClickEvents()}),this.init()}init(){void 0===window.ModalManager&&(window.ModalManager=new r.ModalManager),this.popup=new r.SimpleModal(this.module,this.popupConfig),this.bindClickEvents(),this.bindSBLPEvents()}bindClickEvents(){const e=document.getElementsByClassName("js-showTuitionPreferences");Array.from(e).forEach(e=>{e.removeEventListener("click",()=>{window.ModalManager.open(this.popup)}),e.addEventListener("click",()=>{window.ModalManager.open(this.popup)})})}bindSBLPEvents(){document.addEventListener("sblp_change_currency",()=>{window.ModalManager.open(this.popup)})}}},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TuitionSwitchable=void 0;var r=n(1);class i{constructor(){this.userCountry=0,document.addEventListener("render_complete",()=>{this._setVisualState()}),document.addEventListener("account_render_complete",()=>{this._setVisualState()}),document.addEventListener("wishlist_loaded",()=>{this._setVisualState()}),document.addEventListener("comparison_loaded",()=>{this._setVisualState()}),document.addEventListener("user_location_changed",e=>{this.userCountry=e.detail.userCountryID,this._setVisualState()}),document.addEventListener("currency_changed",()=>{this._setVisualState()}),document.addEventListener("answer_user_location",e=>{this.userCountry=e.detail.userCountryID,this._setVisualState()}),i.askUserLocation()}_setVisualState(){let e=[];if(Array.from(document.getElementsByClassName("js-tuitionSwitchable")).forEach(t=>{const n=t.querySelector('[data-target="national"]'),i=t.querySelector('[data-target="eea"]'),a=t.querySelector('[data-target="international"]'),o=t.querySelector('[data-target="general"]'),s=parseInt(t.dataset.countryId),c=this.userCountry,u=c===s,l=r.LocationSwitcher.isCountryInRegion(c,r.LocationSwitcher.eeaRegionID);l&&i?(this._showTuition(t,"eea"),e=["eea"]):u&&n?(this._showTuition(t,"national"),e=["national"]):l&&u||!a?o?(this._showTuition(t,"general"),e=["international","noneea","eea"]):(this._showNotAvailable(t),e=[""]):(this._showTuition(t,"international"),e=["international","noneea"])}),void 0!==window.UrlHandler&&window.UrlHandler.isStudyPage()){const t=document.getElementsByClassName("js-applicableRegion");Array.from(t).forEach(t=>{t.classList.remove("Hidden"),t.classList.remove("is-applicable"),e.includes(t.dataset.regionName)&&t.classList.add("is-applicable")})}setTimeout(()=>{const e=Array.from(document.getElementsByClassName("js-basedOn"));if(e)for(const t of e){const e=t.dataset.originalAmount,n=t.previousElementSibling.querySelector(".Amount span");t.classList.remove("Hidden"),null!==t.previousElementSibling.querySelector(".Amount span")?n.dataset.converted_amount===e&&t.classList.add("Hidden"):t.classList.add("Hidden")}},500)}_showTuition(e,t){e.querySelector(".js-notAvailable").classList.add("Hidden"),Array.from(e.querySelectorAll("[data-target]")).forEach(e=>{e.classList.add("Hidden")}),Array.from(e.querySelectorAll(`[data-target="${t}"]`)).forEach(e=>{e.classList.remove("Hidden")})}_showNotAvailable(e){Array.from(e.querySelectorAll("[data-target]")).forEach(e=>{e.classList.add("Hidden")}),e.querySelector(".js-notAvailable").classList.remove("Hidden")}static getTuitionFeeType(e,t,n){const i=t===r.LocationSwitcher.usaCountryID,a=e===r.LocationSwitcher.usaCountryID,o=r.LocationSwitcher.isCountryInRegion(e,r.LocationSwitcher.eeaRegionID),s=r.LocationSwitcher.isCountryInRegion(t,r.LocationSwitcher.eeaRegionID);return s&&o&&n.eea?"eea":i&&a&&n.national?"national":!s||!i&&n.international?"international":""}static askUserLocation(){document.dispatchEvent(new Event("ask_user_location"))}}t.TuitionSwitchable=i}});
//# sourceMappingURL=shared.f3bfd83e3f45436a2c03.js.map