var profile_questionnaires=function(e){function t(t){for(var n,i,s=t[0],o=t[1],a=0,u=[];a<s.length;a++)i=s[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);u.length;)u.shift()()}var n={},i={2:0},r={2:0};function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{0:1,1:1,3:1,4:1,5:1,6:1,7:1}[e]&&t.push(i[e]=new Promise((function(t,n){for(var r=e+".style.7d3b97eec0ccd991e0f0.css",o=s.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var c=(l=a[u]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===r||c===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){var l;if((c=(l=d[u]).getAttribute("data-href"))===r||c===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete i[e],p.parentNode.removeChild(p),n(s)},p.href=o,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){i[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=function(e){return s.p+""+({}[e]||e)+".7d3b97eec0ccd991e0f0.js"}(e);var c=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,n[1](c)}r[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://profile-questionnaires.prtl.co/dist/",s.oe=function(e){throw e};var o=window.webpackJsonpprofile_questionnaires=window.webpackJsonpprofile_questionnaires||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=a;return s(s.s=32)}([function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.EDUCATIONAL_LEVEL="study_level",e.INSTITUTE_OF_ORIGIN="institute_of_origin",e.FIELD_OF_STUDY="disciplines",e.DISCIPLINE_INTERESTS="discipline_interests",e.COUNTRY_INTERESTS="country_interests",e.START_PERIOD="start_period",e.GPA="gpa",e.WORK_EXPERIENCE="work_experience",e.ENGLISH_SKILLS="englishproficiency",e.TUITION_BUDGET="tuition_budget",e.LIVING_BUDGET="living_budget",e.NATIONALITY="nationality_country_id",e.COUNTRY_OF_RESIDENCE="residence_country_id",e.EMAIL="email",e.TELEPHONE="telephone",e.BIRTH_DATE="birth_date",e.SAVE_PROGRESS="create_account",e.FIND_BACHELORS="academic_highschool",e.INTRODUCTION="introduction",e.GENDER="gender",e.NAME="name",e.ATTENDANCE="attendance",e.CURRENCY="currency"}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(22);t.StudentField=i.StudentField;const r=n(23);t.AttendanceType=r.AttendanceType},function(e,t,n){e.exports=n(11)(1)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a}));var i=n(0)},function(e,t,n){e.exports=n(11)(9)},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.FORWARD="forward",e.BACKWARD="backward"}(i||(i={}))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(16)),i(n(26))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ENABLED="enabled",e.DISABLE_NEXT="disable_next",e.HIDDEN="hidden",e.ONLY_FORWARD="only_forward",e.ONLY_BACKWARD="only_backward",e.NEXT_HIDDEN="next_hidden"}(i||(i={}))},function(e,t,n){e.exports=n(11)(8)},function(e,t,n){"use strict";const i=new(n(2).default);t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(1),r=n(3),s=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};class o{constructor(){this.studentFields=[i.StudentField.STUDY_LEVEL,i.StudentField.STUDY_COUNTRY_ID,i.StudentField.DISCIPLINES,i.StudentField.GPA,i.StudentField.WORK_EXPERIENCE,i.StudentField.PROFICIENCY_TYPE,i.StudentField.TUITION_BUDGET,i.StudentField.LIVING_BUDGET],this.anonymousStudentService=this.getAnonymousStudentServiceFromWindow()}getCompleteness(){return s(this,void 0,void 0,(function*(){return Math.ceil(100*(yield this.anonymousStudentService.getStudentDataCompleteness(this.studentFields)))}))}getFirstIncompleteQuestion(){return s(this,void 0,void 0,(function*(){const e=yield this.anonymousStudentService.getStudentData(this.studentFields);let t=null;for(const n in e)if(void 0===e[n]){t=this.getQuestionTypeFromField(n);break}return t}))}getAnonymousStudentServiceFromWindow(){return window.AnonymousStudent}getQuestionTypeFromField(e){switch(e){case i.StudentField.TUITION_BUDGET:return r.a.TUITION_BUDGET;case i.StudentField.LIVING_BUDGET:return r.a.LIVING_BUDGET;case i.StudentField.STUDY_LEVEL:return r.a.EDUCATIONAL_LEVEL;case i.StudentField.STUDY_COUNTRY_ID:return r.a.INSTITUTE_OF_ORIGIN;case i.StudentField.DISCIPLINES:return r.a.FIELD_OF_STUDY;case i.StudentField.GPA:return r.a.GPA;case i.StudentField.WORK_EXPERIENCE:return r.a.WORK_EXPERIENCE;case i.StudentField.PROFICIENCY_TYPE:return r.a.ENGLISH_SKILLS;default:return null}}}},function(e,t){e.exports=library},function(e,t,n){e.exports=n(31)("./node_modules/@studyportals/modal/dist/modal.js")},function(e,t,n){"use strict";function i(e,t,n,i,r,s,o,a){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var d=c.render;c.render=function(e,t){return u.call(t),d(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.BESTFIT="bestfit",e.PROFILE_PAGE="profile_page",e.LOCALIZATION_SETTINGS="localization_settings",e.RECOMMENDATIONS="recommendations"}(i||(i={}))},function(e,t,n){},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(17)),i(n(24)),i(n(25))},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.EventType||(t.EventType={})).AnonymousStudentProfileUpdated="anonymous-student-profile-updated",i.AnonymousStudentProfileSynced="anonymous-student-profile-synced"},function(e,t,n){var i=n(29),r=n(30),s=r;s.v1=i,s.v4=r,e.exports=s},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";n(15)},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.StudentField||(t.StudentField={})).IDENTITY_ID="identityId",i.EMAIL="email",i.NAME="name",i.FIRST_NAME="first_name",i.LAST_NAME="last_name",i.GENDER="gender",i.BIRTH_DATE="birth_date",i.TELEPHONE="telephone",i.START_PERIOD="start_period",i.FUNDING_TYPE="funding_type",i.STUDY_LEVEL="study_level",i.PREFERRED_STUDY_LEVEL="preferred_study_level",i.RESIDENCE_COUNTRY_ID="residence_country_id",i.NATIONALITY_COUNTRY_ID="nationality_country_id",i.STUDY_COUNTRY_ID="study_country_id",i.REGISTRATION_IP="registration_ip",i.REGISTRATION_PORTAL_TYPE="registration_portal_type",i.WORK_EXPERIENCE="work_experience",i.PROFICIENCY_TYPE="proficiency_type",i.PROFICIENCY_TEST="proficiency_test",i.PROFICIENCY_SCORE="proficiency_score",i.IELTS="ielts",i.CAE="cae",i.FCE="fce",i.TOEFL_IBT="toefl_ibt",i.TOEFL_PBT="toefl_pbt",i.PTE="pte",i.SELF_ASSESSMENT_PROFICIENCY="self_assessment_proficiency",i.INITIAL_REGISTRATION_PLATFORM="initial_registration_platform",i.EMAILING_OTHER="emailing_other",i.EMAILING_FAVOURITES="emailing_favourites",i.EMAILING_SCHOLARSHIPS="emailing_scholarships",i.EMAILING_UPDATES="emailing_updates",i.LAST_LOGIN="last_login",i.LAST_LOGIN_UTC="last_login_utc",i.DATE_CREATED="date_created",i.DATE_CREATED_UTC="date_created_utc",i.LOGINS="logins",i.DISCIPLINES="disciplines",i.INTERESTS_COUNTRIES="interests_countries",i.INTERESTS_DISCIPLINES="interests_disciplines",i.EMAIL_UNSUBSCRIBE_TOKEN="emailUnsubscribeToken",i.GDPR_ACCEPTED="gdpr_accepted",i.ORIGIN_ORGANISATION_ID="origin_organisation_id",i.GPA="gpa",i.LIVING_BUDGET="living_budget",i.TUITION_BUDGET="tuition_budget",i.SEEN_COMPARISON_TUTORIAL="seen_comparison_tutorial",i.ACCOMPLISHMENTS="accomplishments",i.CURRENCY="currency",i.ATTENDANCE="attendance"},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.AttendanceType||(t.AttendanceType={})).ONLINE="online",i.ON_CAMPUS="oncampus",i.BLENDED="blended"},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.InterestType||(t.InterestType={})).COUNTRY="interests_countries",i.DISCIPLINE="interests_disciplines"},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.StudentRepositoryStateType||(t.StudentRepositoryStateType={}))[i.PENDING=0]="PENDING",i[i.ONLINE=1]="ONLINE",i[i.OFFLINE=2]="OFFLINE"},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(27)),i(n(28))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(17);class r{constructor(e,t){this.timestamp=e,this.state=t}}t.AnonymousStudentProfileSynced=r,r.EventType=i.EventType.AnonymousStudentProfileSynced},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(16);class r{constructor(e,t,n){this.timestamp=e,this.state=t,this.changes=n}}t.AnonymousStudentProfileUpdated=r,r.EventType=i.EventType.AnonymousStudentProfileUpdated},function(e,t,n){var i,r,s=n(19),o=n(20),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,d=t||[],l=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:r;if(null==l||null==p){var E=s();null==l&&(l=i=[1|E[0],E[1],E[2],E[3],E[4],E[5]]),null==p&&(p=r=16383&(E[6]<<8|E[7]))}var _=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:u+1,S=_-a+(f-u)/1e4;if(S<0&&void 0===e.clockseq&&(p=p+1&16383),(S<0||_>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=_,u=f,r=p;var y=(1e4*(268435455&(_+=122192928e5))+f)%4294967296;d[c++]=y>>>24&255,d[c++]=y>>>16&255,d[c++]=y>>>8&255,d[c++]=255&y;var I=_/4294967296*1e4&268435455;d[c++]=I>>>8&255,d[c++]=255&I,d[c++]=I>>>24&15|16,d[c++]=I>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var h=0;h<6;++h)d[c+h]=l[h];return t||o(d)}},function(e,t,n){var i=n(19),r=n(20);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||r(o)}},function(e,t){e.exports=modal},function(e,t,n){"use strict";n.r(t);var i=n(2);class r{GA(e){return void 0===window.Shared||void 0===window.Shared.GA?null:void window.Shared.GA.fireTracker({category:e.category,action:e.action,label:e.label,value:e.value,nonInteraction:e.nonInteraction||!1})}snowPlow(e){if(void 0===window.snowplow)return null;window.snowplow("trackStructEvent",e.category,e.action,e.label||"",e.property||"",e.value||0)}rollbar(e){if(void 0===window.rollbar)return null;window.rollbar.error(e)}}var s={PROFILE_QUESTIONNAIRES:"Profile-Questionnaires"},o={ACADEMIC_HIGHSCHOOL_CONTINUE_ANYWAY:"academic_highschool - continue_anyway",ACADEMIC_HIGHSCHOOL_FIND_BACHELORS:"academic_highschool - find_bachelor",QUESTION_SKIPPED:"question - skipped"};const a={accessToken:"c2e833f79cd64be1a9cc7d9685c60215",captureUncaught:!1,captureUnhandledRejections:!1,payload:{environment:"prd"}};var u,c={install(e){e.prototype.$rollbar=window&&window.rollbar?new window.rollbar(a):null,e.config.errorHandler=(e,t,n)=>{throw e},e.prototype.$getNestedOptionByLabel=(e,t)=>{let n=null;for(const i in t){const r=t[i].options.filter(t=>t.value===e);r.length>0&&(n=r[0])}return n},e.prototype.$getOptionByLabel=(e,t)=>{const n=t.filter(t=>t.value===e);return 1!==n.length?null:n[0]},e.prototype.$tagHotjarRecording=e=>{void 0!==window.hj&&window.hj("tagRecording",e.map(e=>"ProfileQuestionnares - "+e))},e.prototype.$getParentQuestionnaire=function(){let e=null,t=this.$parent;for(;t&&!e;)"Questionnaire"===t.$options._componentTag&&(e=t),t=t.$parent;return null==e?{}:e.$props.questionnaire&&e.$props.type?{questionnaire:e.$props.questionnaire,identifier:e.questionnaireIdentifier,type:e.$props.type}:{}},e.prototype.$tracking=new r,e.prototype.$trackingDictionary={actions:o,categories:s}}},d=n(4),l=n(8),p=n(9);!function(e){e.BESTFIT_SEARCH="bestfit_search"}(u||(u={}));var E=n(14),_=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let f=class extends i.default{constructor(){super(...arguments),this.showQuestionnaire=!1,this.showIncentive=!1,this.steps=null}get questionnaires(){return E.a}get incentives(){return u}get questionnaireType(){return String(this.$root.$props.questionnaire_identifier)}get incentiveType(){return String(this.$root.$props.incentive_identifier)}get questionnaireIndex(){return null==this.$root.$props.questionnaire_index?0:Number(this.$root.$props.questionnaire_index)}onStepsChanged(e,t){this.showQuestionnaire=this.$root.$props.showQuestionnaire}created(){this.$root.$props.incentive_identifier?this.showIncentive=!0:(this.saveQuestionnaireSteps(),this.registerInitializeEvent(),this.closeQuestionnaireOnFinish())}closeQuestionnaireOnFinish(){p.a.$on("questionnaireFinished",e=>{e===this.questionnaireType&&(this.showQuestionnaire=!1)})}saveQuestionnaireSteps(){const e=this.$root.$props.questionnaire_steps;this.steps=null!=e?e.replace(" ","").split(","):[]}registerInitializeEvent(){document.addEventListener("profile_questionnaires_initialize",e=>{const t=e.detail.identifier,n=(e.detail.showOnRender,e.detail.data);void 0!==t&&t===this.questionnaireType&&(this.steps=this.getStepsFromPayload(n),this.showQuestionnaire=!0)})}getStepsFromPayload(e){return null==e||void 0===e.steps?[]:e.steps}};_([Object(d.Watch)("steps")],f.prototype,"onStepsChanged",null),f=_([Object(d.Component)({components:{BestFitSearch:()=>n.e(7).then(n.bind(null,156)),BestFit:()=>Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,153)),ProfilePage:()=>Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,152)),LocalizationSettings:()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,155)),Recommendations:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,154))},computed:Object(l.mapGetters)(["isLoggedIn"])})],f);var S=f,y=(n(21),n(13)),I=Object(y.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showIncentive?n("div",[e.incentiveType===e.incentives.BESTFIT_SEARCH?n("BestFitSearch"):e._e()],1):e.showQuestionnaire?n("div",[e.questionnaireType===e.questionnaires.BESTFIT?n("BestFit",{attrs:{index:e.questionnaireIndex,steps:e.steps}}):e._e(),e._v(" "),e.questionnaireType===e.questionnaires.PROFILE_PAGE?n("ProfilePage",{attrs:{steps:e.steps}}):e._e(),e._v(" "),e.questionnaireType===e.questionnaires.LOCALIZATION_SETTINGS?n("LocalizationSettings",{attrs:{steps:e.steps}}):e._e(),e._v(" "),e.questionnaireType===e.questionnaires.RECOMMENDATIONS?n("Recommendations",{attrs:{steps:e.steps}}):e._e()],1):e._e()])}),[],!1,null,null,null).exports,h=n(0);const T={isLoggedIn:!1,profileCompleteness:0,userCurrency:null,questionnaires:{},questions:{[h.a.BIRTH_DATE]:{type:h.a.BIRTH_DATE,answer:{birth_date:""}},[h.a.EDUCATIONAL_LEVEL]:{type:h.a.EDUCATIONAL_LEVEL,answer:{study_level:""}},[h.a.EMAIL]:{type:h.a.EMAIL,answer:{email:""}},[h.a.INSTITUTE_OF_ORIGIN]:{type:h.a.INSTITUTE_OF_ORIGIN,answer:{study_country_id:null,origin_organisation_id:0}},[h.a.FIELD_OF_STUDY]:{type:h.a.FIELD_OF_STUDY,answer:{disciplines:[]}},[h.a.GENDER]:{type:h.a.GENDER,answer:{gender:""}},[h.a.GPA]:{type:h.a.GPA,answer:{gpa:{current_type:""}}},[h.a.WORK_EXPERIENCE]:{type:h.a.WORK_EXPERIENCE,answer:{work_experience:""}},[h.a.ENGLISH_SKILLS]:{type:h.a.ENGLISH_SKILLS,answer:{proficiency_type:null,proficiency_test:null,pte:0,toefl_pbt:0,toefl_ibt:0,ielts:0,cae:0,self_assessment_proficiency:""}},[h.a.TUITION_BUDGET]:{type:h.a.TUITION_BUDGET,answer:{tuition_budget:{amount:0,currency:"",unit:"year"}}},[h.a.LIVING_BUDGET]:{type:h.a.LIVING_BUDGET,answer:{living_budget:{amount:0,currency:"",unit:"month"}}},[h.a.NATIONALITY]:{type:h.a.NATIONALITY,answer:{nationality_country_id:null}},[h.a.NAME]:{type:h.a.NAME,answer:{name:""}},[h.a.DISCIPLINE_INTERESTS]:{type:h.a.DISCIPLINE_INTERESTS,answer:{discipline_interests:[]}},[h.a.COUNTRY_INTERESTS]:{type:h.a.COUNTRY_INTERESTS,answer:{country_interests:[]}},[h.a.COUNTRY_OF_RESIDENCE]:{type:h.a.COUNTRY_OF_RESIDENCE,answer:{residence_country_id:null}},[h.a.START_PERIOD]:{type:h.a.START_PERIOD,answer:{start_period:null}},[h.a.ATTENDANCE]:{type:h.a.ATTENDANCE,answer:{attendance:null}},[h.a.CURRENCY]:{type:h.a.CURRENCY,answer:{currency:null}}}};var g=n(5),v=n(7);const N={setLoggedInFlag(e,t){e.isLoggedIn=t},saveAnswer(e,{type:t,answer:n}){e.questions=Object.assign(Object.assign({},e.questions),{[t]:{type:t,answer:n}})},updateQuestions(e,t){e.questions=Object.assign(Object.assign({},e.questions),t)},signUpQuestionnaire(e,{identifier:t,type:n,index:i,steps:r,onlyFinishOnSignIn:s}){e.questionnaires=Object.assign(Object.assign({},e.questionnaires),{[t]:{type:n,index:i,requestedSteps:r,steps:new Array,direction:g.a.FORWARD,isFinished:!1,navigationState:v.a.ENABLED,onlyFinishOnSignIn:s}})},signUpStep(e,t){const n=t.$parent.questionnaireIdentifier;if(!(n in e.questionnaires))return;const i=Object.assign({},e.questionnaires);if(i[n].requestedSteps.length<=0)return i[n].steps.push({key:t._uid,show:t.$props.show,label:t.$props.label,darkBackground:t.$props.darkBackground}),void(e.questionnaires=i);(i[n].requestedSteps.includes(t.$props.label)||t.$props.required)&&(i[n].steps.push({key:t._uid,show:t.$props.show,label:t.$props.label,darkBackground:t.$props.darkBackground}),e.questionnaires=i)},nextQuestion(e,t){e.questionnaires[t]=Object.assign(Object.assign({},e.questionnaires[t]),{index:e.questionnaires[t].index+1})},previousQuestion(e,t){e.questionnaires[t]=Object.assign(Object.assign({},e.questionnaires[t]),{index:e.questionnaires[t].index-1})},setIndex(e,{identifier:t,index:n}){e.questionnaires[t]=Object.assign(Object.assign({},e.questionnaires[t]),{index:n})},setDirection(e,{identifier:t,direction:n}){e.questionnaires[t]=Object.assign(Object.assign({},e.questionnaires[t]),{direction:n})},updateStepVisibility(e,{identifier:t,key:n,show:i}){const r=Object.assign({},e.questionnaires);let s=-1;r[t].steps.forEach((e,t)=>{n===e.key&&(s=t)}),-1!==s&&(r[t].steps[s].show=i,e.questionnaires=r)},setQuestionnaireFinishedFlag(e,{identifier:t,flag:n}){const i=Object.assign({},e);i.questionnaires[t].isFinished=n,e=i},setNavigationState(e,{identifier:t,navigationState:n}){e.questionnaires[t]=Object.assign(Object.assign({},e.questionnaires[t]),{navigationState:n})},signOffQuestionnaire(e,t){delete e.questionnaires[t]},duplicateTuitionCurrencyToLivingBudget(e,{currency:t}){e.questions[h.a.LIVING_BUDGET].answer[h.a.LIVING_BUDGET].currency=t},setProfileCompleteness(e,t){e.profileCompleteness=t},setUserCurrency(e,t){e.userCurrency=t}},A={isLoggedIn:e=>e.isLoggedIn,profileCompleteness:e=>e.profileCompleteness,answerToQuestion:e=>t=>void 0===e.questions[t]?null:e.questions[t].answer,currentStep:e=>t=>{if(!(t in e.questionnaires))return{currentStepKey:0,currentStepLabel:"",index:0,currentStepDarkBackground:!1};const n=e.questionnaires[t].index,i=e.questionnaires[t].steps[n];return void 0===i?{currentStepKey:0,currentStepLabel:"",index:0,currentStepDarkBackground:!1}:{currentStepKey:i.key,currentStepLabel:i.label,index:n,currentStepDarkBackground:i.darkBackground}},navigationDirection:e=>t=>void 0===e.questionnaires[t]?g.a.FORWARD:e.questionnaires[t].direction,onlyFinishOnSignIn:e=>t=>void 0!==e.questionnaires[t]&&e.questionnaires[t].onlyFinishOnSignIn,questionnaireProgress:e=>t=>{const n=e.questionnaires[t].index;let i=0,r=0;e.questionnaires[t].steps.forEach((e,t)=>{!0===e.show&&(t===n&&(i=r),r++)});const s=Math.ceil(100*i/r);return!Number.isInteger(s)||0===i||r<=0?0:s},isLastStep:(e,t)=>n=>{const i=e.questionnaires[n].steps;let r={key:-1,show:!1};const s=t.currentStep(n);return i.forEach(e=>{!0===e.show&&(r=e)}),s.currentStepKey===r.key},isInQuestionnaire:e=>(t,n)=>{const i=e.questionnaires[t].steps;let r=!1;return i.forEach(e=>{!0===e.show&&e.label===n&&(r=!0)}),r},isFinished:e=>t=>void 0!==e.questionnaires[t]&&e.questionnaires[t].isFinished,navigationState:e=>t=>e.questionnaires[t].navigationState,stepIndexByType:e=>(t,n)=>{let i=0;return e.questionnaires[t].steps.forEach((e,t)=>{e.label===n&&e.show&&(i=t)}),i},userCurrency:e=>e.userCurrency};var w=n(1),m=n(6),O=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};class R{constructor(){this.anonymousStudentService=this.getAnonymousStudentServiceFromWindow()}saveSingleAnswer(e){return O(this,void 0,void 0,(function*(){if(!(yield this.saveEdgeCaseSeparately(e.type,e.answer)))return this.anonymousStudentService.setStudentData(e.answer)}))}retrieveStudentData(e){return O(this,void 0,void 0,(function*(){return yield this.anonymousStudentService.getStudentData(e)}))}saveEdgeCaseSeparately(e,t){return O(this,void 0,void 0,(function*(){switch(e){case"name":return yield this.updateName(t.name),!0;case h.a.DISCIPLINE_INTERESTS:return yield this.updateDisciplineInterest(t),!0;case h.a.COUNTRY_INTERESTS:return yield this.updateCountryInterest(t),!0;case h.a.FIELD_OF_STUDY:return yield this.updateDisciplines(t),!0;case h.a.GPA:return yield this.updateGPA(t),!0}return!1}))}updateName(e){return O(this,void 0,void 0,(function*(){yield this.anonymousStudentService.setName(e)}))}updateGPA(e){return O(this,void 0,void 0,(function*(){const t=e.gpa.current_type;yield this.anonymousStudentService.setGPA(t,e.gpa[t])}))}updateDisciplineInterest(e){return O(this,void 0,void 0,(function*(){const t=(yield this.anonymousStudentService.getStudentData([w.StudentField.INTERESTS_DISCIPLINES])).interests_disciplines||[],n=this.getArrayDifference(e.discipline_interests,t),i=this.getArrayDifference(t,e.discipline_interests);n.length>0&&(yield this.anonymousStudentService.addInterest(m.InterestType.DISCIPLINE,n)),i.length>0&&(yield this.anonymousStudentService.removeInterest(m.InterestType.DISCIPLINE,i))}))}updateCountryInterest(e){return O(this,void 0,void 0,(function*(){const t=(yield this.anonymousStudentService.getStudentData([w.StudentField.INTERESTS_COUNTRIES])).interests_countries||[],n=this.getArrayDifference(e.country_interests,t),i=this.getArrayDifference(t,e.country_interests);n.length>0&&(yield this.anonymousStudentService.addInterest(m.InterestType.COUNTRY,n)),i.length>0&&(yield this.anonymousStudentService.removeInterest(m.InterestType.COUNTRY,i))}))}updateDisciplines(e){return O(this,void 0,void 0,(function*(){const t=(yield this.anonymousStudentService.getStudentData([w.StudentField.DISCIPLINES])).disciplines||[],n=this.getArrayDifference(e.disciplines,t),i=this.getArrayDifference(t,e.disciplines);n.length>0&&(yield this.anonymousStudentService.addDisciplines(n)),i.length>0&&(yield this.anonymousStudentService.removeDisciplines(i))}))}getArrayDifference(e,t){return e.filter(e=>-1===t.indexOf(e))}getAnonymousStudentServiceFromWindow(){return window.AnonymousStudent}}class C{createAnswerFromStudentData(e,t){switch(e){case h.a.WORK_EXPERIENCE:return this.createWorkExperienceAnswer(t);case h.a.TUITION_BUDGET:return this.createTuitionBudgetAnswer(t);case h.a.TELEPHONE:return this.createTelephoneAnswer(t);case h.a.START_PERIOD:return this.createStartPeriodAnswer(t);case h.a.SAVE_PROGRESS:return this.createSaveProgressAnswer(t);case h.a.NATIONALITY:return this.createNationalityAnswer(t);case h.a.LIVING_BUDGET:return this.createLivingBudgetAnswer(t);case h.a.INSTITUTE_OF_ORIGIN:return this.createInstituteOfOriginAnswer(t);case h.a.GPA:return this.createGPAAnswer(t);case h.a.FIND_BACHELORS:return this.createFindBachelorsAnswer(t);case h.a.FIELD_OF_STUDY:return this.createFieldOfStudyAnswer(t);case h.a.ENGLISH_SKILLS:return this.createEnglishSkillsAnswer(t);case h.a.EMAIL:return this.createEmailAnswer(t);case h.a.EDUCATIONAL_LEVEL:return this.createEducationalLevelAnswer(t);case h.a.DISCIPLINE_INTERESTS:return this.createDisciplineInterestAnswer(t);case h.a.COUNTRY_OF_RESIDENCE:return this.createCountryOfResidenceAnswer(t);case h.a.COUNTRY_INTERESTS:return this.createCountryInterestAnswer(t);case h.a.BIRTH_DATE:return this.createBirthDateAnswer(t);case h.a.GENDER:return this.createGenderAnswer(t);case h.a.INTRODUCTION:return this.createIntroductionAnswer(t);case h.a.NAME:return this.createNameAnswer(t);case h.a.ATTENDANCE:return this.createAttendanceAnswer(t);case h.a.CURRENCY:return this.createCurrencyAnswer(t)}}createWorkExperienceAnswer(e){return{work_experience:e[w.StudentField.WORK_EXPERIENCE]||""}}createTuitionBudgetAnswer(e){return{tuition_budget:e.tuition_budget||{amount:0,currency:"",unit:"year"}}}createTelephoneAnswer(e){throw new Error("Not implemented")}createStartPeriodAnswer(e){return{start_period:e[w.StudentField.START_PERIOD]||null}}createSaveProgressAnswer(e){throw new Error("Not implemented")}createNationalityAnswer(e){return{nationality_country_id:e[w.StudentField.NATIONALITY_COUNTRY_ID]||null}}createLivingBudgetAnswer(e){return{living_budget:e.living_budget||{amount:0,currency:"",unit:"month"}}}createInstituteOfOriginAnswer(e){return{origin_organisation_id:e.origin_organisation_id||"",study_country_id:e.study_country_id||null}}createGPAAnswer(e){if(!e.gpa||!e.gpa.current_type)return{gpa:{current_type:""}};const t=e.gpa.current_type;return{gpa:{current_type:t,[t]:e.gpa[t]}}}createFindBachelorsAnswer(e){throw new Error("Not implemented")}createFieldOfStudyAnswer(e){return{disciplines:e.disciplines||[]}}createEnglishSkillsAnswer(e){return{cae:e.cae?Number(e.cae):void 0,ielts:e.ielts?Number(e.ielts):void 0,pte:e.pte?Number(e.pte):void 0,toefl_pbt:e.toefl_pbt?Number(e.toefl_pbt):void 0,toefl_ibt:e.toefl_ibt?Number(e.toefl_ibt):void 0,self_assessment_proficiency:e.self_assessment_proficiency||void 0,proficiency_type:e.proficiency_type||null,proficiency_test:e.proficiency_test||null}}createEmailAnswer(e){return{email:e.email||""}}createEducationalLevelAnswer(e){return{study_level:e.study_level||""}}createDisciplineInterestAnswer(e){return{discipline_interests:e.interests_disciplines||[]}}createCountryOfResidenceAnswer(e){return{residence_country_id:e[w.StudentField.RESIDENCE_COUNTRY_ID]||null}}createCountryInterestAnswer(e){return{country_interests:e.interests_countries||[]}}createBirthDateAnswer(e){return{birth_date:e.birth_date||""}}createIntroductionAnswer(e){throw new Error("Not implemented")}createGenderAnswer(e){return{gender:e.gender||""}}createNameAnswer(e){return{name:e.name||""}}createAttendanceAnswer(e){return{attendance:e.attendance||null}}createCurrencyAnswer(e){return{currency:e.currency||null}}}var D=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};class L{constructor(e){this.store=e,this.studentDatabaseClient=new R,this.answerFactory=new C,this.eventAggregationService=this.getEventAggregationService()}update(e){return D(this,void 0,void 0,(function*(){try{yield this.studentDatabaseClient.saveSingleAnswer(e)}catch(e){throw new Error("Profile-Questionnaires update student data failed!: "+e.message)}}))}retrieveQuestions(e){return D(this,void 0,void 0,(function*(){const t=this.getStudentFieldsByQuestions(e),n=yield this.studentDatabaseClient.retrieveStudentData(t);return e.map(e=>({type:e,answer:this.answerFactory.createAnswerFromStudentData(e,n)}))}))}getUserCountryId(){const e=new RegExp("(^| )user_nationality_id=([^;]+)"),t=document.cookie.match(e);return t?parseInt(t[2],10):null}translateQuestionTypeToStudentFields(e){switch(e){case h.a.BIRTH_DATE:return[w.StudentField.BIRTH_DATE];case h.a.COUNTRY_INTERESTS:return[w.StudentField.INTERESTS_COUNTRIES];case h.a.COUNTRY_OF_RESIDENCE:return[w.StudentField.RESIDENCE_COUNTRY_ID];case h.a.DISCIPLINE_INTERESTS:return[w.StudentField.INTERESTS_DISCIPLINES];case h.a.EDUCATIONAL_LEVEL:return[w.StudentField.STUDY_LEVEL];case h.a.EMAIL:return[w.StudentField.EMAIL];case h.a.ENGLISH_SKILLS:return[w.StudentField.PROFICIENCY_TYPE,w.StudentField.PROFICIENCY_TEST,w.StudentField.TOEFL_PBT,w.StudentField.TOEFL_IBT,w.StudentField.IELTS,w.StudentField.CAE,w.StudentField.SELF_ASSESSMENT_PROFICIENCY,w.StudentField.PTE];case h.a.FIELD_OF_STUDY:return[w.StudentField.DISCIPLINES];case h.a.GENDER:return[w.StudentField.GENDER];case h.a.GPA:return[w.StudentField.GPA];case h.a.INSTITUTE_OF_ORIGIN:return[w.StudentField.ORIGIN_ORGANISATION_ID,w.StudentField.STUDY_COUNTRY_ID];case h.a.LIVING_BUDGET:return[w.StudentField.LIVING_BUDGET];case h.a.NAME:return[w.StudentField.NAME];case h.a.NATIONALITY:return[w.StudentField.NATIONALITY_COUNTRY_ID];case h.a.START_PERIOD:return[w.StudentField.START_PERIOD];case h.a.TELEPHONE:return[w.StudentField.TELEPHONE];case h.a.TUITION_BUDGET:return[w.StudentField.TUITION_BUDGET];case h.a.ATTENDANCE:return[w.StudentField.ATTENDANCE];case h.a.WORK_EXPERIENCE:return[w.StudentField.WORK_EXPERIENCE];case h.a.FIND_BACHELORS:case h.a.SAVE_PROGRESS:case h.a.INTRODUCTION:return[];case h.a.CURRENCY:return[w.StudentField.CURRENCY]}}getStudentFieldsByQuestions(e){let t=[];return e.forEach(e=>{const n=this.translateQuestionTypeToStudentFields(e);t=t.concat(n)}),t}getEventAggregationService(){return window.EventAggregationService}}var F=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};class P{constructor(e,t,n){this.sessionService=e,this.store=n,this.studentRepository=new L(n),this.eventAggregationService=t}initialize(){return F(this,void 0,void 0,(function*(){yield this.listenForExistingSession(),this.listenForNewSession()}))}listenForExistingSession(){return F(this,void 0,void 0,(function*(){this.sessionService.isReady?yield this.checkSession(this.sessionService):this.eventAggregationService.subscribeToSessionServiceReadyEvent({notify:e=>{this.checkSession(e)}})}))}listenForNewSession(){this.eventAggregationService.subscribeToSessionCreatedEvent({notify:()=>{this.store.commit("setLoggedInFlag",!0),this.fetchStudentData()}})}checkSession(e){return F(this,void 0,void 0,(function*(){null!==(yield e.getSession())?this.store.dispatch("userLoggedIn"):this.store.commit("setLoggedInFlag",!1)}))}fetchStudentData(){return F(this,void 0,void 0,(function*(){const e=Object.keys(this.store.state.questions),t=yield this.studentRepository.retrieveQuestions(e);this.store.dispatch("updateQuestions",t)}))}}var b=n(10),U=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};class q{constructor(e,t){this.store=e,this.studentRepository=t}startListening(){this.getEventAggregationService().subscribeTo(m.AnonymousStudentProfileUpdated.EventType,this)}notify(e){return U(this,void 0,void 0,(function*(){const t=Object.keys(e.changes),n=this.getQuestionsToUpdateFromEvent(t);n.length>0&&(yield this.updateQuestions(n),yield this.store.dispatch("updateProfileCompleteness"))}))}getQuestionsToUpdateFromEvent(e){const t=Object.keys(this.store.state.questions),n=new Set;return t.forEach(t=>{const i=this.studentRepository.translateQuestionTypeToStudentFields(t);e.some(e=>i.includes(e))&&n.add(t)}),Array.from(n)}updateQuestions(e){return U(this,void 0,void 0,(function*(){const t=yield this.studentRepository.retrieveQuestions(e);yield this.store.dispatch("updateQuestions",t)}))}getEventAggregationService(){return window.EventAggregationService}}var G=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};const x=[(new class{getHandler(){return e=>{return t=this,i=function*(){const t=window.SessionService,n=window.EventAggregationService;if(!t)return;if(!n)return;const i=this.createSessionAdapter(t,n,e);yield i.initialize()},new((n=void 0)||(n=Promise))((function(e,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function o(e){try{a(i.throw(e))}catch(e){r(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(s,o)}a((i=i.apply(t,[])).next())}));var t,n,i}}createSessionAdapter(e,t,n){return new P(e,t,n)}}).getHandler(),(new class{getHandler(){return e=>{return t=this,i=function*(){const t=this.getProfileCompletenessInstance();e.commit("setProfileCompleteness",yield t.getCompleteness())},new((n=void 0)||(n=Promise))((function(e,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function o(e){try{a(i.throw(e))}catch(e){r(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(s,o)}a((i=i.apply(t,[])).next())}));var t,n,i}}getProfileCompletenessInstance(){return new b.a}}).getHandler(),(new class{getHandler(){return e=>G(this,void 0,void 0,(function*(){this.store=e,this.studentRepository=new L(e),this.studentDataChangedEventListener=this.createStudentDataChangedEventListener(),d.Vue.prototype.$studentRepository=this.studentRepository,this.studentDataChangedEventListener.startListening(),yield this.updateStudentInformation()}))}updateStudentInformation(){return G(this,void 0,void 0,(function*(){const e=Object.keys(this.store.state.questions),t=yield this.studentRepository.retrieveQuestions(e);this.store.dispatch("updateQuestions",t)}))}createStudentDataChangedEventListener(){return this.studentDataChangedEventListener=new q(this.store,this.studentRepository)}}).getHandler()];var B=n(18),Y=n.n(B),M=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((i=i.apply(e,t||[])).next())}))};const Q={saveAnswer({commit:e,dispatch:t},{question:n}){return M(this,void 0,void 0,(function*(){e("saveAnswer",n),d.Vue.prototype.$studentRepository.update(n),document.dispatchEvent(new CustomEvent("profile_question_answered",{detail:n})),t("updateProfileCompleteness")}))},updateQuestions({commit:e},t){const n={};void 0!==t&&(t.length<=0||(t.forEach(e=>{n[e.type]=e}),e("updateQuestions",n)))},signUpStep({commit:e},t){e("signUpStep",t)},signUpQuestionnaire({commit:e},{type:t,index:n,steps:i,onlyFinishOnSignIn:r}){const s=Y()();return e("signUpQuestionnaire",{identifier:s,type:t,index:n,steps:i,onlyFinishOnSignIn:r}),s},nextQuestion({commit:e,getters:t,dispatch:n},i){t.navigationState(i)!==v.a.NEXT_HIDDEN&&(e("setDirection",{identifier:i,direction:g.a.FORWARD}),!t.isLastStep(i)||t.onlyFinishOnSignIn(i)?t.isLastStep(i)&&t.onlyFinishOnSignIn(i)&&t.isLoggedIn?n("setQuestionnaireFinishedFlag",{identifier:i,flag:!0}):e("nextQuestion",i):n("setQuestionnaireFinishedFlag",{identifier:i,flag:!0}))},previousQuestion({state:e,commit:t},n){const{steps:i,index:r}=e.questionnaires[n];t("setDirection",{identifier:n,direction:g.a.BACKWARD}),void 0!==i[r-1]&&t("previousQuestion",n)},setIndex({commit:e},{identifier:t,index:n}){e("setIndex",{identifier:t,index:n})},updateStepVisibility({commit:e},{identifier:t,key:n,show:i}){e("updateStepVisibility",{identifier:t,key:n,show:i})},setQuestionnaireFinishedFlag({commit:e,getters:t,state:n},{identifier:i,flag:r}){void 0!==n.questionnaires[i]&&t.navigationState(i)!==v.a.NEXT_HIDDEN&&(e("setQuestionnaireFinishedFlag",{identifier:i,flag:r}),r&&p.a.$emit("questionnaireFinished",n.questionnaires[i].type))},userLoggedIn({dispatch:e,commit:t}){t("setLoggedInFlag",!0),e("updateProfileCompleteness")},setUserCurrency({commit:e},t){e("setUserCurrency",t)},setNavigationState({commit:e},{identifier:t,state:n}){e("setNavigationState",{identifier:t,navigationState:n})},signOffQuestionnaire({commit:e},t){e("signOffQuestionnaire",t)},duplicateTuitionCurrencyToLivingBudget({state:e,commit:t},n){""===e.questions[h.a.LIVING_BUDGET].answer[h.a.LIVING_BUDGET].currency&&t("duplicateTuitionCurrencyToLivingBudget",{currency:n})},updateProfileCompleteness({commit:e}){return M(this,void 0,void 0,(function*(){const t=new b.a,n=yield t.getCompleteness();e("setProfileCompleteness",n)}))}};i.default.use(l.default);const k=new l.default.Store({state:T,mutations:N,getters:A,plugins:x,actions:Q});var j=n(12);void 0===window.ModalManager&&(window.ModalManager=new j.ModalManager),i.default.config.productionTip=!1,i.default.use(c);const $=i.default.extend({store:k,props:["questionnaire_identifier","incentive_identifier","questionnaire_mode","questionnaire_index","questionnaire_steps","showQuestionnaire"],render:e=>e(I)}),H={};function V(e,t){e.detail.identifier===t&&window.ModalManager.close(H[t])}document.addEventListener("profile_questionnaires_initialize",e=>{const t=e.detail.identifier,n=e.detail.showOnRender,i=e.detail.data;e.detail.isPopupQuestionnaire&&function(e){if(void 0===H[e]){const t=document.createElement("div");t.classList.add("ProfileQuestionnaire"),t.setAttribute("data-questionnaire",e),H[e]=new j.SimpleModal(t,{cssClassName:"QuestionnairePopup",destroyOnClose:!0}),document.addEventListener("questionnaire_completed",t=>{V(t,e)}),document.addEventListener("questionnaire_closed",t=>{V(t,e)})}window.ModalManager.open(H[e])}(t),void 0!==t&&function(e,t=!0,n){const i=document.querySelectorAll(".ProfileQuestionnaire");for(const s of Array.from(i)){const i=s.getAttribute("data-questionnaire"),o=s.getAttribute("data-incentive");if(i===e){let e;const o=s.getAttribute("data-index");e=void 0===n?s.getAttribute("data-steps"):null==(r=n)||void 0===r.steps?null:r.steps.toString(),new $({el:s,propsData:{questionnaire_identifier:i,questionnaire_index:o,questionnaire_steps:e,showQuestionnaire:t}})}o===e&&new $({el:s,propsData:{incentive_identifier:o}})}var r}(t,n,i)}),window.profile_questionnaires_ready=!0,document.dispatchEvent(new Event("profile_questionnaires_ready"))},function(e,t){e.exports=multiselect}]);
//# sourceMappingURL=bundle.7d3b97eec0ccd991e0f0.js.map